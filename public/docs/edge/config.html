<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Configuration &mdash; Nextflow 23.12.0-edge documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/theme.css" type="text/css" />
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Migrating from DSL 1" href="dsl1.html" />
    <link rel="prev" title="Modules" href="module.html" />
     
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-TNCXSWG');</script>
    <!-- End Google Tag Manager -->

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html">
            <img src="_static/nextflow-logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div>
    <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="getstarted.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic.html">Basic concepts</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Language</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="script.html">Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="process.html">Processes</a></li>
<li class="toctree-l1"><a class="reference internal" href="channel.html">Channels</a></li>
<li class="toctree-l1"><a class="reference internal" href="operator.html">Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflow.html">Workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="module.html">Modules</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#configuration-file">Configuration file</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#config-syntax">Config syntax</a></li>
<li class="toctree-l3"><a class="reference internal" href="#config-variables">Config variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#config-comments">Config comments</a></li>
<li class="toctree-l3"><a class="reference internal" href="#config-include">Config include</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#config-scopes">Config scopes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#scope-apptainer">Scope <code class="docutils literal notranslate"><span class="pre">apptainer</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#scope-aws">Scope <code class="docutils literal notranslate"><span class="pre">aws</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#scope-azure">Scope <code class="docutils literal notranslate"><span class="pre">azure</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#scope-charliecloud">Scope <code class="docutils literal notranslate"><span class="pre">charliecloud</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#scope-conda">Scope <code class="docutils literal notranslate"><span class="pre">conda</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#scope-dag">Scope <code class="docutils literal notranslate"><span class="pre">dag</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#scope-docker">Scope <code class="docutils literal notranslate"><span class="pre">docker</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#scope-env">Scope <code class="docutils literal notranslate"><span class="pre">env</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#scope-executor">Scope <code class="docutils literal notranslate"><span class="pre">executor</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#scope-google">Scope <code class="docutils literal notranslate"><span class="pre">google</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#cloud-batch">Cloud Batch</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cloud-life-sciences">Cloud Life Sciences</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#scope-k8s">Scope <code class="docutils literal notranslate"><span class="pre">k8s</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#scope-mail">Scope <code class="docutils literal notranslate"><span class="pre">mail</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#scope-manifest">Scope <code class="docutils literal notranslate"><span class="pre">manifest</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#scope-notification">Scope <code class="docutils literal notranslate"><span class="pre">notification</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#scope-params">Scope <code class="docutils literal notranslate"><span class="pre">params</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#scope-podman">Scope <code class="docutils literal notranslate"><span class="pre">podman</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#scope-process">Scope <code class="docutils literal notranslate"><span class="pre">process</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#process-selectors">Process selectors</a></li>
<li class="toctree-l4"><a class="reference internal" href="#selector-expressions">Selector expressions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#selector-priority">Selector priority</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#scope-report">Scope <code class="docutils literal notranslate"><span class="pre">report</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#scope-sarus">Scope <code class="docutils literal notranslate"><span class="pre">sarus</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#scope-shifter">Scope <code class="docutils literal notranslate"><span class="pre">shifter</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#scope-singularity">Scope <code class="docutils literal notranslate"><span class="pre">singularity</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#scope-spack">Scope <code class="docutils literal notranslate"><span class="pre">spack</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#scope-timeline">Scope <code class="docutils literal notranslate"><span class="pre">timeline</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#scope-tower">Scope <code class="docutils literal notranslate"><span class="pre">tower</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#scope-trace">Scope <code class="docutils literal notranslate"><span class="pre">trace</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#miscellaneous">Miscellaneous</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#config-profiles">Config profiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="#environment-variables">Environment variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="#feature-flags">Feature flags</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dsl1.html">Migrating from DSL 1</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Execution</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="cli.html">Command line interface (CLI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="executor.html">Executors</a></li>
<li class="toctree-l1"><a class="reference internal" href="cache-and-resume.html">Caching and resuming</a></li>
<li class="toctree-l1"><a class="reference internal" href="tracing.html">Tracing &amp; visualisation</a></li>
<li class="toctree-l1"><a class="reference internal" href="metrics.html">Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="sharing.html">Pipeline sharing</a></li>
<li class="toctree-l1"><a class="reference internal" href="metadata.html">Workflow introspection</a></li>
<li class="toctree-l1"><a class="reference internal" href="mail.html">Mail &amp; Notifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="plugins.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="secrets.html">Secrets</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Software dependencies</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="container.html">Containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="conda.html">Conda environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="spack.html">Spack environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="wave.html">Wave containers</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Compute &amp; storage platforms</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="aws.html">AWS Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="amazons3.html">AWS S3 storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.html">Azure Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="fusion.html">Fusion file system</a></li>
<li class="toctree-l1"><a class="reference internal" href="google.html">Google Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="kubernetes.html">Kubernetes</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Additional integrations</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="flux.html">Flux Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="ignite.html">Apache Ignite</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contributing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="developer/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer/packages.html">Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer/plugins.html">Core plugins</a></li>
</ul>

        </div>
    <div class="nav-footer-logo">
        <a href="https://seqera.io/" target="_blank" title="Developed by Seqera Labs">
            Nextflow is developed by:<br>
            <img src="_static/seqera-logo.svg" alt="Seqera Labs">
        </a>
    </div>

      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Nextflow</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a></li>
      <li class="breadcrumb-item active">Configuration</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/nextflow-io/nextflow/blob/master/docs/config.md" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="configuration">
<span id="config-page"></span><h1>Configuration<a class="headerlink" href="#configuration" title="Permalink to this heading"></a></h1>
<section id="configuration-file">
<h2>Configuration file<a class="headerlink" href="#configuration-file" title="Permalink to this heading"></a></h2>
<p>When a pipeline script is launched, Nextflow looks for configuration files in multiple locations. Since each configuration file can contain conflicting settings, the sources are ranked to determine which settings are applied. Possible configuration sources, in order of priority:</p>
<ol class="arabic simple">
<li><p>Parameters specified on the command line (<code class="docutils literal notranslate"><span class="pre">--something</span> <span class="pre">value</span></code>)</p></li>
<li><p>Parameters provided using the <code class="docutils literal notranslate"><span class="pre">-params-file</span></code> option</p></li>
<li><p>Config file specified using the <code class="docutils literal notranslate"><span class="pre">-c</span> <span class="pre">my_config</span></code> option</p></li>
<li><p>The config file named <code class="docutils literal notranslate"><span class="pre">nextflow.config</span></code> in the current directory</p></li>
<li><p>The config file named <code class="docutils literal notranslate"><span class="pre">nextflow.config</span></code> in the workflow project directory</p></li>
<li><p>The config file <code class="docutils literal notranslate"><span class="pre">$HOME/.nextflow/config</span></code></p></li>
<li><p>Values defined within the pipeline script itself (e.g. <code class="docutils literal notranslate"><span class="pre">main.nf</span></code>)</p></li>
</ol>
<p>When more than one of these options for specifying configurations are used, they are merged, so that the settings in the first override the same settings appearing in the second, and so on.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you want to ignore any default configuration files and use only a custom one, use <code class="docutils literal notranslate"><span class="pre">-C</span> <span class="pre">&lt;config</span> <span class="pre">file&gt;</span></code>.</p>
</div>
<section id="config-syntax">
<h3>Config syntax<a class="headerlink" href="#config-syntax" title="Permalink to this heading"></a></h3>
<p>A Nextflow configuration file is a simple text file containing a set of properties defined using the syntax:</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value</span>
</pre></div>
</div>
<p>Please note, string values need to be wrapped in quotation characters while numbers and boolean values (<code class="docutils literal notranslate"><span class="pre">true</span></code>, <code class="docutils literal notranslate"><span class="pre">false</span></code>) do not. Also note that values are typed. This means that, for example, <code class="docutils literal notranslate"><span class="pre">1</span></code> is different from <code class="docutils literal notranslate"><span class="pre">'1'</span></code> — the former is interpreted as the number one, while the latter is interpreted as a string value.</p>
</section>
<section id="config-variables">
<h3>Config variables<a class="headerlink" href="#config-variables" title="Permalink to this heading"></a></h3>
<p>Configuration properties can be used as variables in the configuration file by using the usual <code class="docutils literal notranslate"><span class="pre">$propertyName</span></code> or <code class="docutils literal notranslate"><span class="pre">${expression}</span></code> syntax.</p>
<p>For example:</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">propertyOne</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;world&#39;</span>
<span class="n">anotherProp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Hello $propertyOne&quot;</span>
<span class="n">customPath</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;$PATH:/my/app/folder&quot;</span>
</pre></div>
</div>
<p>Please note, the usual rules for <a class="reference internal" href="script.html#string-interpolation"><span class="std std-ref">String interpolation</span></a> are applied, thus a string containing a variable reference must be wrapped in double-quote chars instead of single-quote chars.</p>
<p>The same mechanism allows you to access environment variables defined in the hosting system. Any variable name not defined in the Nextflow configuration file(s) is interpreted to be a reference to an environment variable with that name. So, in the above example, the property <code class="docutils literal notranslate"><span class="pre">customPath</span></code> is defined as the current system <code class="docutils literal notranslate"><span class="pre">PATH</span></code> to which the string <code class="docutils literal notranslate"><span class="pre">/my/app/folder</span></code> is appended.</p>
</section>
<section id="config-comments">
<h3>Config comments<a class="headerlink" href="#config-comments" title="Permalink to this heading"></a></h3>
<p>Configuration files use the same conventions for comments used by the Groovy or Java programming languages. Thus, use <code class="docutils literal notranslate"><span class="pre">//</span></code> to comment a single line, or <code class="docutils literal notranslate"><span class="pre">/*</span></code> .. <code class="docutils literal notranslate"><span class="pre">*/</span></code> to comment a block on multiple lines.</p>
</section>
<section id="config-include">
<h3>Config include<a class="headerlink" href="#config-include" title="Permalink to this heading"></a></h3>
<p>A configuration file can include one or more configuration files using the keyword <code class="docutils literal notranslate"><span class="pre">includeConfig</span></code>. For example:</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">process</span><span class="o">.</span><span class="na">executor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;sge&#39;</span>
<span class="n">process</span><span class="o">.</span><span class="na">queue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;long&#39;</span>
<span class="n">process</span><span class="o">.</span><span class="na">memory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;10G&#39;</span>

<span class="n">includeConfig</span><span class="w"> </span><span class="s1">&#39;path/foo.config&#39;</span>
</pre></div>
</div>
<p>When a relative path is used, it is resolved against the actual location of the including file.</p>
</section>
</section>
<section id="config-scopes">
<h2>Config scopes<a class="headerlink" href="#config-scopes" title="Permalink to this heading"></a></h2>
<p>Configuration settings can be organized in different scopes by dot prefixing the property names with a scope identifier, or grouping the properties in the same scope using the curly brackets notation. For example:</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">alpha</span><span class="o">.</span><span class="na">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
<span class="n">alpha</span><span class="o">.</span><span class="na">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;string value..&#39;</span>

<span class="n">beta</span><span class="w"> </span><span class="o">{</span>
<span class="w">     </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span>
<span class="w">     </span><span class="n">q</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;another string ..&#39;</span>
<span class="o">}</span>
</pre></div>
</div>
<section id="scope-apptainer">
<span id="config-apptainer"></span><h3>Scope <code class="docutils literal notranslate"><span class="pre">apptainer</span></code><a class="headerlink" href="#scope-apptainer" title="Permalink to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">apptainer</span></code> scope controls how <a class="reference external" href="https://apptainer.org">Apptainer</a> containers are executed by Nextflow.</p>
<p>The following settings are available:</p>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">apptainer.autoMounts</span></code></dt><dd><p>When <code class="docutils literal notranslate"><span class="pre">true</span></code> Nextflow automatically mounts host paths in the executed container. It requires the <code class="docutils literal notranslate"><span class="pre">user</span> <span class="pre">bind</span> <span class="pre">control</span></code> feature to be enabled in your Apptainer installation (default: <code class="docutils literal notranslate"><span class="pre">true</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">apptainer.cacheDir</span></code></dt><dd><p>The directory where remote Apptainer images are stored. When using a computing cluster it must be a shared folder accessible to all compute nodes.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">apptainer.enabled</span></code></dt><dd><p>Enable Apptainer execution (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">apptainer.engineOptions</span></code></dt><dd><p>This attribute can be used to provide any option supported by the Apptainer engine i.e. <code class="docutils literal notranslate"><span class="pre">apptainer</span> <span class="pre">[OPTIONS]</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">apptainer.envWhitelist</span></code></dt><dd><p>Comma separated list of environment variable names to be included in the container environment.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">apptainer.noHttps</span></code></dt><dd><p>Pull the Apptainer image with http protocol (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">apptainer.ociAutoPull</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 23.12.0-edge.</span></p>
</div>
</dd>
<dd><p>When enabled, OCI (and Docker) container images are pulled and converted to the SIF format by the Apptainer run command, instead of Nextflow (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">apptainer.pullTimeout</span></code></dt><dd><p>The amount of time the Apptainer pull can last, exceeding which the process is terminated (default: <code class="docutils literal notranslate"><span class="pre">20</span> <span class="pre">min</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">apptainer.registry</span></code></dt><dd><p>The registry from where Docker images are pulled. It should be only used to specify a private registry server. It should NOT include the protocol prefix i.e. <code class="docutils literal notranslate"><span class="pre">http://</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">apptainer.runOptions</span></code></dt><dd><p>This attribute can be used to provide any extra command line options supported by <code class="docutils literal notranslate"><span class="pre">apptainer</span> <span class="pre">exec</span></code>.</p>
</dd>
</dl>
<p>Read the <a class="reference internal" href="container.html#container-apptainer"><span class="std std-ref">Apptainer</span></a> page to learn more about how to use Apptainer containers with Nextflow.</p>
</section>
<section id="scope-aws">
<span id="config-aws"></span><h3>Scope <code class="docutils literal notranslate"><span class="pre">aws</span></code><a class="headerlink" href="#scope-aws" title="Permalink to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">aws</span></code> scope controls the interactions with AWS, including AWS Batch and S3. For example:</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">aws</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">accessKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&lt;YOUR S3 ACCESS KEY&gt;&#39;</span>
<span class="w">    </span><span class="n">secretKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&lt;YOUR S3 SECRET KEY&gt;&#39;</span>
<span class="w">    </span><span class="n">region</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;us-east-1&#39;</span>

<span class="w">    </span><span class="n">client</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">maxConnections</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span>
<span class="w">        </span><span class="n">connectionTimeout</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10000</span>
<span class="w">        </span><span class="n">uploadStorageClass</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;INTELLIGENT_TIERING&#39;</span>
<span class="w">        </span><span class="n">storageEncryption</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;AES256&#39;</span>
<span class="w">    </span><span class="o">}</span>
<span class="w">    </span><span class="n">batch</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">cliPath</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;/home/ec2-user/miniconda/bin/aws&#39;</span>
<span class="w">        </span><span class="n">maxTransferAttempts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span>
<span class="w">        </span><span class="n">delayBetweenAttempts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;5 sec&#39;</span>
<span class="w">    </span><span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>This scope can also be used to configure access to S3-compatible storage outside of AWS, such as <a class="reference external" href="https://ceph.com/en/">Ceph</a> and <a class="reference external" href="https://min.io/">MinIO</a>.</p>
</div>
<p>Read the <a class="reference internal" href="aws.html#aws-page"><span class="std std-ref">AWS Cloud</span></a> and <a class="reference internal" href="amazons3.html#amazons3-page"><span class="std std-ref">AWS S3 storage</span></a> pages for more information.</p>
<p>The following settings are available:</p>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">aws.accessKey</span></code></dt><dd><p>AWS account access key</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.profile</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 22.12.0-edge.</span></p>
</div>
</dd>
<dd><p>AWS profile from <code class="docutils literal notranslate"><span class="pre">~/.aws/credentials</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.region</span></code></dt><dd><p>AWS region (e.g. <code class="docutils literal notranslate"><span class="pre">us-east-1</span></code>)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.secretKey</span></code></dt><dd><p>AWS account secret key</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.batch.cliPath</span></code></dt><dd><p>The path where the AWS command line tool is installed in the host AMI.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.batch.delayBetweenAttempts</span></code></dt><dd><p>Delay between download attempts from S3 (default: <code class="docutils literal notranslate"><span class="pre">10</span> <span class="pre">sec</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.batch.executionRole</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 23.12.0-edge.</span></p>
</div>
</dd>
<dd><p>The AWS Batch Execution Role ARN that needs to be used to execute the Batch Job. This is mandatory when using AWS Fargate platform type. See <a class="reference external" href="https://docs.aws.amazon.com/batch/latest/userguide/execution-IAM-role.html">AWS documentation</a> for more details.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.batch.jobRole</span></code></dt><dd><p>The AWS Batch Job Role ARN that needs to be used to execute the Batch Job.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.batch.logsGroup</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 22.09.0-edge.</span></p>
</div>
</dd>
<dd><p>The name of the logs group used by Batch Jobs (default: <code class="docutils literal notranslate"><span class="pre">/aws/batch</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.batch.maxParallelTransfers</span></code></dt><dd><p>Max parallel upload/download transfer operations <em>per job</em> (default: <code class="docutils literal notranslate"><span class="pre">4</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.batch.maxSpotAttempts</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 22.04.0.</span></p>
</div>
</dd>
<dd><p>Max number of execution attempts of a job interrupted by a EC2 spot reclaim event (default: <code class="docutils literal notranslate"><span class="pre">5</span></code>)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.batch.maxTransferAttempts</span></code></dt><dd><p>Max number of downloads attempts from S3 (default: <code class="docutils literal notranslate"><span class="pre">1</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.batch.platformType</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 23.12.0-edge.</span></p>
</div>
</dd>
<dd><p>Allow specifying the compute platform type used by AWS Batch, that can be either <code class="docutils literal notranslate"><span class="pre">ec2</span></code> or <code class="docutils literal notranslate"><span class="pre">fargate</span></code>. See AWS documentation to learn more about <a class="reference external" href="https://docs.aws.amazon.com/batch/latest/userguide/fargate.html">AWS Fargate platform type</a> for AWS Batch.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.batch.retryMode</span></code></dt><dd><p>The retry mode configuration setting, to accommodate rate-limiting on <a class="reference external" href="https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-retries.html">AWS services</a> (default: <code class="docutils literal notranslate"><span class="pre">standard</span></code>, other options: <code class="docutils literal notranslate"><span class="pre">legacy</span></code>, <code class="docutils literal notranslate"><span class="pre">adaptive</span></code>); this handling is delegated to AWS. To have Nextflow handle retries instead, use <code class="docutils literal notranslate"><span class="pre">built-in</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.batch.schedulingPriority</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 23.01.0-edge.</span></p>
</div>
</dd>
<dd><p>The scheduling priority for all tasks when using <a class="reference external" href="https://aws.amazon.com/blogs/hpc/introducing-fair-share-scheduling-for-aws-batch/">fair-share scheduling for AWS Batch</a> (default: <code class="docutils literal notranslate"><span class="pre">0</span></code>)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.batch.shareIdentifier</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 22.09.0-edge.</span></p>
</div>
</dd>
<dd><p>The share identifier for all tasks when using <a class="reference external" href="https://aws.amazon.com/blogs/hpc/introducing-fair-share-scheduling-for-aws-batch/">fair-share scheduling for AWS Batch</a></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.batch.volumes</span></code></dt><dd><p>One or more container mounts. Mounts can be specified as simple e.g. <code class="docutils literal notranslate"><span class="pre">/some/path</span></code> or canonical format e.g. <code class="docutils literal notranslate"><span class="pre">/host/path:/mount/path[:ro|rw]</span></code>. Multiple mounts can be specified separating them with a comma or using a list object.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.client.anonymous</span></code></dt><dd><p>Allow the access of public S3 buckets without the need to provide AWS credentials. Any service that does not accept unsigned requests will return a service access error.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.client.s3Acl</span></code></dt><dd><p>Allow the setting of predefined bucket permissions, also known as <em>canned ACL</em>. Permitted values are <code class="docutils literal notranslate"><span class="pre">Private</span></code>, <code class="docutils literal notranslate"><span class="pre">PublicRead</span></code>, <code class="docutils literal notranslate"><span class="pre">PublicReadWrite</span></code>, <code class="docutils literal notranslate"><span class="pre">AuthenticatedRead</span></code>, <code class="docutils literal notranslate"><span class="pre">LogDeliveryWrite</span></code>, <code class="docutils literal notranslate"><span class="pre">BucketOwnerRead</span></code>, <code class="docutils literal notranslate"><span class="pre">BucketOwnerFullControl</span></code>, and <code class="docutils literal notranslate"><span class="pre">AwsExecRead</span></code>. See <a class="reference external" href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/acl-overview.html#canned-acl">Amazon docs</a> for details.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.client.connectionTimeout</span></code></dt><dd><p>The amount of time to wait (in milliseconds) when initially establishing a connection before timing out.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.client.endpoint</span></code></dt><dd><p>The AWS S3 API entry point e.g. <code class="docutils literal notranslate"><span class="pre">s3-us-west-1.amazonaws.com</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.client.glacierAutoRetrieval</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 22.12.0-edge.</span></p>
</div>
</dd>
<dd><p><em>Experimental: may change in a future release.</em></p>
</dd>
<dd><p>Enable auto retrieval of S3 objects with a Glacier storage class (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
<dd><div class="admonition note">
<p class="admonition-title">Note</p>
<p>This feature only works for S3 objects that are downloaded by Nextflow directly. It is not supported for tasks (e.g. when using the AWS Batch executor), since that would lead to many tasks sitting idle for several hours and wasting resources. If you need to restore many objects from Glacier, consider restoring them in a script prior to launching the pipeline.</p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.client.glacierExpirationDays</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 22.12.0-edge.</span></p>
</div>
</dd>
<dd><p><em>Experimental: may change in a future release.</em></p>
</dd>
<dd><p>The time, in days, between when an object is restored to the bucket and when it expires (default: <code class="docutils literal notranslate"><span class="pre">7</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.client.glacierRetrievalTier</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 23.03.0-edge.</span></p>
</div>
</dd>
<dd><p><em>Experimental: may change in a future release.</em></p>
</dd>
<dd><p>The retrieval tier to use when restoring objects from Glacier, one of [<code class="docutils literal notranslate"><span class="pre">Expedited</span></code>, <code class="docutils literal notranslate"><span class="pre">Standard</span></code>, <code class="docutils literal notranslate"><span class="pre">Bulk</span></code>].</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.client.maxConnections</span></code></dt><dd><p>The maximum number of allowed open HTTP connections.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.client.maxErrorRetry</span></code></dt><dd><p>The maximum number of retry attempts for failed retryable requests.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.client.protocol</span></code></dt><dd><p>The protocol (i.e. HTTP or HTTPS) to use when connecting to AWS.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.client.proxyHost</span></code></dt><dd><p>The proxy host to connect through.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.client.proxyPort</span></code></dt><dd><p>The port on the proxy host to connect through.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.client.proxyUsername</span></code></dt><dd><p>The user name to use when connecting through a proxy.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.client.proxyPassword</span></code></dt><dd><p>The password to use when connecting through a proxy.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.client.s3PathStyleAccess</span></code></dt><dd><p>Enable the use of path-based access model that is used to specify the address of an object in S3-compatible storage systems.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.client.signerOverride</span></code></dt><dd><p>The name of the signature algorithm to use for signing requests made by the client.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.client.socketSendBufferSizeHint</span></code></dt><dd><p>The Size hint (in bytes) for the low level TCP send buffer.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.client.socketRecvBufferSizeHint</span></code></dt><dd><p>The Size hint (in bytes) for the low level TCP receive buffer.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.client.socketTimeout</span></code></dt><dd><p>The amount of time to wait (in milliseconds) for data to be transferred over an established, open connection before the connection is timed out.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.client.storageEncryption</span></code></dt><dd><p>The S3 server side encryption to be used when saving objects on S3, either <code class="docutils literal notranslate"><span class="pre">AES256</span></code> or <code class="docutils literal notranslate"><span class="pre">aws:kms</span></code> values are allowed.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.client.storageKmsKeyId</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 22.05.0-edge.</span></p>
</div>
</dd>
<dd><p>The AWS KMS key Id to be used to encrypt files stored in the target S3 bucket.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.client.userAgent</span></code></dt><dd><p>The HTTP user agent header passed with all HTTP requests.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.client.uploadChunkSize</span></code></dt><dd><p>The size of a single part in a multipart upload (default: <code class="docutils literal notranslate"><span class="pre">100</span> <span class="pre">MB</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.client.uploadMaxAttempts</span></code></dt><dd><p>The maximum number of upload attempts after which a multipart upload returns an error (default: <code class="docutils literal notranslate"><span class="pre">5</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.client.uploadMaxThreads</span></code></dt><dd><p>The maximum number of threads used for multipart upload.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.client.uploadRetrySleep</span></code></dt><dd><p>The time to wait after a failed upload attempt to retry the part upload (default: <code class="docutils literal notranslate"><span class="pre">500ms</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">aws.client.uploadStorageClass</span></code></dt><dd><p>The S3 storage class applied to stored objects, one of [<code class="docutils literal notranslate"><span class="pre">STANDARD</span></code>, <code class="docutils literal notranslate"><span class="pre">STANDARD_IA</span></code>, <code class="docutils literal notranslate"><span class="pre">ONEZONE_IA</span></code>, <code class="docutils literal notranslate"><span class="pre">INTELLIGENT_TIERING</span></code>] (default: <code class="docutils literal notranslate"><span class="pre">STANDARD</span></code>).</p>
</dd>
</dl>
</section>
<section id="scope-azure">
<span id="config-azure"></span><h3>Scope <code class="docutils literal notranslate"><span class="pre">azure</span></code><a class="headerlink" href="#scope-azure" title="Permalink to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">azure</span></code> scope allows you to configure the interactions with Azure, including Azure Batch and Azure Blob Storage.</p>
<p>Read the <a class="reference internal" href="azure.html#azure-page"><span class="std std-ref">Azure Cloud</span></a> page for more information.</p>
<p>The following settings are available:</p>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">azure.activeDirectory.servicePrincipalId</span></code></dt><dd><p>The service principal client ID</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">azure.activeDirectory.servicePrincipalSecret</span></code></dt><dd><p>The service principal client secret</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">azure.activeDirectory.tenantId</span></code></dt><dd><p>The Azure tenant ID</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">azure.batch.accountName</span></code></dt><dd><p>The batch service account name.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">azure.batch.accountKey</span></code></dt><dd><p>The batch service account key.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">azure.batch.allowPoolCreation</span></code></dt><dd><p>Enable the automatic creation of batch pools specified in the Nextflow configuration file (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">azure.batch.autoPoolMode</span></code></dt><dd><p>Enable the automatic creation of batch pools depending on the pipeline resources demand (default: <code class="docutils literal notranslate"><span class="pre">true</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">azure.batch.copyToolInstallMode</span></code></dt><dd><p>Specify where the <code class="docutils literal notranslate"><span class="pre">azcopy</span></code> tool used by Nextflow. When <code class="docutils literal notranslate"><span class="pre">node</span></code> is specified it’s copied once during the pool creation. When <code class="docutils literal notranslate"><span class="pre">task</span></code> is provider, it’s installed for each task execution (default: <code class="docutils literal notranslate"><span class="pre">node</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">azure.batch.deleteJobsOnCompletion</span></code></dt><dd><p>Delete all jobs when the workflow completes (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
<dd><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 23.08.0-edge: </span>Default value was changed from <code class="docutils literal notranslate"><span class="pre">true</span></code> to <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">azure.batch.deletePoolsOnCompletion</span></code></dt><dd><p>Delete all compute node pools when the workflow completes (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">azure.batch.deleteTasksOnCompletion</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 23.08.0-edge.</span></p>
</div>
</dd>
<dd><p>Delete each task when it completes (default: <code class="docutils literal notranslate"><span class="pre">true</span></code>).</p>
</dd>
<dd><p>Although this setting is enabled by default, failed tasks will not be deleted unless it is explicitly enabled. This way, the default behavior is that successful tasks are deleted while failed tasks are preserved for debugging purposes.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">azure.batch.endpoint</span></code></dt><dd><p>The batch service endpoint e.g. <code class="docutils literal notranslate"><span class="pre">https://nfbatch1.westeurope.batch.azure.com</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">azure.batch.location</span></code></dt><dd><p>The name of the batch service region, e.g. <code class="docutils literal notranslate"><span class="pre">westeurope</span></code> or <code class="docutils literal notranslate"><span class="pre">eastus2</span></code>. This is not needed when the endpoint is specified.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">azure.batch.terminateJobsOnCompletion</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 23.05.0-edge.</span></p>
</div>
</dd>
<dd><p>When the workflow completes, set all jobs to terminate on task completion. (default: <code class="docutils literal notranslate"><span class="pre">true</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">azure.batch.pools.&lt;name&gt;.autoScale</span></code></dt><dd><p>Enable autoscaling feature for the pool identified with <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">azure.batch.pools.&lt;name&gt;.fileShareRootPath</span></code></dt><dd><p><em>New in <code class="docutils literal notranslate"><span class="pre">nf-azure</span></code> version <code class="docutils literal notranslate"><span class="pre">0.11.0</span></code></em></p>
</dd>
<dd><p>If mounting File Shares, this is the internal root mounting point. Must be <code class="docutils literal notranslate"><span class="pre">/mnt/resource/batch/tasks/fsmounts</span></code> for CentOS nodes or <code class="docutils literal notranslate"><span class="pre">/mnt/batch/tasks/fsmounts</span></code> for Ubuntu nodes (default is for CentOS).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">azure.batch.pools.&lt;name&gt;.lowPriority</span></code></dt><dd><p><em>New in <code class="docutils literal notranslate"><span class="pre">nf-azure</span></code> version <code class="docutils literal notranslate"><span class="pre">1.4.0</span></code></em></p>
</dd>
<dd><p>Enable the use of low-priority VMs (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">azure.batch.pools.&lt;name&gt;.maxVmCount</span></code></dt><dd><p>Specify the max of virtual machine when using auto scale option.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">azure.batch.pools.&lt;name&gt;.mountOptions</span></code></dt><dd><p><em>New in <code class="docutils literal notranslate"><span class="pre">nf-azure</span></code> version <code class="docutils literal notranslate"><span class="pre">0.11.0</span></code></em></p>
</dd>
<dd><p>Specify the mount options for mounting the file shares (default: <code class="docutils literal notranslate"><span class="pre">-o</span> <span class="pre">vers=3.0,dir_mode=0777,file_mode=0777,sec=ntlmssp</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">azure.batch.pools.&lt;name&gt;.offer</span></code></dt><dd><p><em>New in <code class="docutils literal notranslate"><span class="pre">nf-azure</span></code> version <code class="docutils literal notranslate"><span class="pre">0.11.0</span></code></em></p>
</dd>
<dd><p>Specify the offer type of the virtual machine type used by the pool identified with <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code> (default: <code class="docutils literal notranslate"><span class="pre">centos-container</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">azure.batch.pools.&lt;name&gt;.privileged</span></code></dt><dd><p>Enable the task to run with elevated access. Ignored if <code class="docutils literal notranslate"><span class="pre">runAs</span></code> is set (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">azure.batch.pools.&lt;name&gt;.publisher</span></code></dt><dd><p><em>New in <code class="docutils literal notranslate"><span class="pre">nf-azure</span></code> version <code class="docutils literal notranslate"><span class="pre">0.11.0</span></code></em></p>
</dd>
<dd><p>Specify the publisher of virtual machine type used by the pool identified with <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code> (default: <code class="docutils literal notranslate"><span class="pre">microsoft-azure-batch</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">azure.batch.pools.&lt;name&gt;.runAs</span></code></dt><dd><p>Specify the username under which the task is run. The user must already exist on each node of the pool.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">azure.batch.pools.&lt;name&gt;.scaleFormula</span></code></dt><dd><p>Specify the scale formula for the pool identified with <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code>. See Azure Batch <a class="reference external" href="https://docs.microsoft.com/en-us/azure/batch/batch-automatic-scaling">scaling documentation</a> for details.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">azure.batch.pools.&lt;name&gt;.scaleInterval</span></code></dt><dd><p>Specify the interval at which to automatically adjust the Pool size according to the autoscale formula. The minimum and maximum value are 5 minutes and 168 hours respectively (default: <code class="docutils literal notranslate"><span class="pre">10</span> <span class="pre">mins</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">azure.batch.pools.&lt;name&gt;.schedulePolicy</span></code></dt><dd><p>Specify the scheduling policy for the pool identified with <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code>. It can be either <code class="docutils literal notranslate"><span class="pre">spread</span></code> or <code class="docutils literal notranslate"><span class="pre">pack</span></code> (default: <code class="docutils literal notranslate"><span class="pre">spread</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">azure.batch.pools.&lt;name&gt;.sku</span></code></dt><dd><p><em>New in <code class="docutils literal notranslate"><span class="pre">nf-azure</span></code> version <code class="docutils literal notranslate"><span class="pre">0.11.0</span></code></em></p>
</dd>
<dd><p>Specify the ID of the Compute Node agent SKU which the pool identified with <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code> supports (default: <code class="docutils literal notranslate"><span class="pre">batch.node.centos</span> <span class="pre">8</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">azure.batch.pools.&lt;name&gt;.virtualNetwork</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 23.03.0-edge.</span></p>
</div>
</dd>
<dd><p>Specify the subnet ID of a virtual network in which to create the pool.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">azure.batch.pools.&lt;name&gt;.vmCount</span></code></dt><dd><p>Specify the number of virtual machines provisioned by the pool identified with <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">azure.batch.pools.&lt;name&gt;.vmType</span></code></dt><dd><p>Specify the virtual machine type used by the pool identified with <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">azure.registry.server</span></code></dt><dd><p><em>New in <code class="docutils literal notranslate"><span class="pre">nf-azure</span></code> version <code class="docutils literal notranslate"><span class="pre">0.9.8</span></code></em></p>
</dd>
<dd><p>Specify the container registry from which to pull the Docker images (default: <code class="docutils literal notranslate"><span class="pre">docker.io</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">azure.registry.userName</span></code></dt><dd><p><em>New in <code class="docutils literal notranslate"><span class="pre">nf-azure</span></code> version <code class="docutils literal notranslate"><span class="pre">0.9.8</span></code></em></p>
</dd>
<dd><p>Specify the username to connect to a private container registry.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">azure.registry.password</span></code></dt><dd><p><em>New in <code class="docutils literal notranslate"><span class="pre">nf-azure</span></code> version <code class="docutils literal notranslate"><span class="pre">0.9.8</span></code></em></p>
</dd>
<dd><p>Specify the password to connect to a private container registry.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">azure.retryPolicy.delay</span></code></dt><dd><p>Delay when retrying failed API requests (default: <code class="docutils literal notranslate"><span class="pre">500ms</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">azure.retryPolicy.jitter</span></code></dt><dd><p>Jitter value when retrying failed API requests (default: <code class="docutils literal notranslate"><span class="pre">0.25</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">azure.retryPolicy.maxAttempts</span></code></dt><dd><p>Max attempts when retrying failed API requests (default: <code class="docutils literal notranslate"><span class="pre">10</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">azure.retryPolicy.maxDelay</span></code></dt><dd><p>Max delay when retrying failed API requests (default: <code class="docutils literal notranslate"><span class="pre">90s</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">azure.storage.accountName</span></code></dt><dd><p>The blob storage account name</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">azure.storage.accountKey</span></code></dt><dd><p>The blob storage account key</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">azure.storage.sasToken</span></code></dt><dd><p>The blob storage shared access signature token. This can be provided as an alternative to the <code class="docutils literal notranslate"><span class="pre">accountKey</span></code> setting.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">azure.storage.tokenDuration</span></code></dt><dd><p>The duration of the shared access signature token created by Nextflow when the <code class="docutils literal notranslate"><span class="pre">sasToken</span></code> option is <em>not</em> specified (default: <code class="docutils literal notranslate"><span class="pre">48h</span></code>).</p>
</dd>
</dl>
</section>
<section id="scope-charliecloud">
<span id="config-charliecloud"></span><h3>Scope <code class="docutils literal notranslate"><span class="pre">charliecloud</span></code><a class="headerlink" href="#scope-charliecloud" title="Permalink to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">charliecloud</span></code> scope controls how <a class="reference external" href="https://hpc.github.io/charliecloud/">Charliecloud</a> containers are executed by Nextflow.</p>
<p>The following settings are available:</p>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">charliecloud.cacheDir</span></code></dt><dd><p>The directory where remote Charliecloud images are stored. When using a computing cluster it must be a shared folder accessible to all compute nodes.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">charliecloud.enabled</span></code></dt><dd><p>Enable Charliecloud execution (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">charliecloud.envWhitelist</span></code></dt><dd><p>Comma separated list of environment variable names to be included in the container environment.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">charliecloud.pullTimeout</span></code></dt><dd><p>The amount of time the Charliecloud pull can last, exceeding which the process is terminated (default: <code class="docutils literal notranslate"><span class="pre">20</span> <span class="pre">min</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">charliecloud.runOptions</span></code></dt><dd><p>This attribute can be used to provide any extra command line options supported by the <code class="docutils literal notranslate"><span class="pre">ch-run</span></code> command.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">charliecloud.temp</span></code></dt><dd><p>Mounts a path of your choice as the <code class="docutils literal notranslate"><span class="pre">/tmp</span></code> directory in the container. Use the special value <code class="docutils literal notranslate"><span class="pre">auto</span></code> to create a temporary directory each time a container is created.</p>
</dd>
</dl>
<p>Read the <a class="reference internal" href="container.html#container-charliecloud"><span class="std std-ref">Charliecloud</span></a> page to learn more about how to use Charliecloud containers with Nextflow.</p>
</section>
<section id="scope-conda">
<span id="config-conda"></span><h3>Scope <code class="docutils literal notranslate"><span class="pre">conda</span></code><a class="headerlink" href="#scope-conda" title="Permalink to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">conda</span></code> scope controls the creation of a Conda environment by the Conda package manager.</p>
<p>The following settings are available:</p>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">conda.enabled</span></code></dt><dd><p>Enable Conda execution (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">conda.cacheDir</span></code></dt><dd><p>Defines the path where Conda environments are stored. When using a compute cluster make sure to provide a shared file system path accessible from all compute nodes.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">conda.createOptions</span></code></dt><dd><p>Defines any extra command line options supported by the <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">create</span></code> command. For details see the <a class="reference external" href="https://docs.conda.io/projects/conda/en/latest/commands/create.html">Conda documentation</a>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">conda.createTimeout</span></code></dt><dd><p>Defines the amount of time the Conda environment creation can last. The creation process is terminated when the timeout is exceeded (default: <code class="docutils literal notranslate"><span class="pre">20</span> <span class="pre">min</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">conda.useMamba</span></code></dt><dd><p>Uses the <code class="docutils literal notranslate"><span class="pre">mamba</span></code> binary instead of <code class="docutils literal notranslate"><span class="pre">conda</span></code> to create the Conda environments. For details see the <a class="reference external" href="https://github.com/mamba-org/mamba">Mamba documentation</a>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">conda.useMicromamba</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 22.05.0-edge.</span></p>
</div>
</dd>
<dd><p>uses the <code class="docutils literal notranslate"><span class="pre">micromamba</span></code> binary instead of <code class="docutils literal notranslate"><span class="pre">conda</span></code> to create the Conda environments. For details see the <a class="reference external" href="https://mamba.readthedocs.io/en/latest/user_guide/micromamba.html">Micromamba documentation</a>.</p>
</dd>
</dl>
<p>Read the <a class="reference internal" href="conda.html#conda-page"><span class="std std-ref">Conda environments</span></a> page to learn more about how to use Conda environments with Nextflow.</p>
</section>
<section id="scope-dag">
<span id="config-dag"></span><h3>Scope <code class="docutils literal notranslate"><span class="pre">dag</span></code><a class="headerlink" href="#scope-dag" title="Permalink to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">dag</span></code> scope controls the workflow diagram generated by Nextflow.</p>
<p>The following settings are available:</p>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">dag.enabled</span></code></dt><dd><p>When <code class="docutils literal notranslate"><span class="pre">true</span></code> enables the generation of the DAG file (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">dag.depth</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 23.10.0.</span></p>
</div>
</dd>
<dd><p><em>Only supported by the HTML and Mermaid renderers.</em></p>
</dd>
<dd><p>Controls the maximum depth at which to render sub-workflows (default: no limit).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">dag.direction</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 23.10.0.</span></p>
</div>
</dd>
<dt>:::</dt><dd><p><em>Only supported by the HTML and Mermaid renderers.</em></p>
</dd>
<dd><p>Controls the direction of the DAG, can be <code class="docutils literal notranslate"><span class="pre">'LR'</span></code> (left-to-right) or <code class="docutils literal notranslate"><span class="pre">'TB'</span></code> (top-to-bottom) (default: <code class="docutils literal notranslate"><span class="pre">'TB'</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">dag.file</span></code></dt><dd><p>Graph file name (default: <code class="docutils literal notranslate"><span class="pre">dag-&lt;timestamp&gt;.html</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">dag.overwrite</span></code></dt><dd><p>When <code class="docutils literal notranslate"><span class="pre">true</span></code> overwrites any existing DAG file with the same name (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">dag.verbose</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 23.10.0.</span></p>
</div>
</dd>
<dd><p><em>Only supported by the HTML and Mermaid renderers.</em></p>
</dd>
<dd><p>When <code class="docutils literal notranslate"><span class="pre">false</span></code>, channel names are omitted, operators are collapsed, and empty workflow inputs are removed (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
</dl>
<p>Read the <a class="reference internal" href="tracing.html#dag-visualisation"><span class="std std-ref">DAG visualisation</span></a> page to learn more about the workflow graph that can be generated by Nextflow.</p>
</section>
<section id="scope-docker">
<span id="config-docker"></span><h3>Scope <code class="docutils literal notranslate"><span class="pre">docker</span></code><a class="headerlink" href="#scope-docker" title="Permalink to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">docker</span></code> scope controls how <a class="reference external" href="https://www.docker.com">Docker</a> containers are executed by Nextflow.</p>
<p>The following settings are available:</p>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">docker.enabled</span></code></dt><dd><p>Enable Docker execution (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">docker.engineOptions</span></code></dt><dd><p>This attribute can be used to provide any option supported by the Docker engine i.e. <code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">[OPTIONS]</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">docker.envWhitelist</span></code></dt><dd><p>Comma separated list of environment variable names to be included in the container environment.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">docker.fixOwnership</span></code></dt><dd><p>Fix ownership of files created by the docker container.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">docker.legacy</span></code></dt><dd><p>Use command line options removed since Docker 1.10.0 (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">docker.mountFlags</span></code></dt><dd><p>Add the specified flags to the volume mounts e.g. <code class="docutils literal notranslate"><span class="pre">mountFlags</span> <span class="pre">=</span> <span class="pre">'ro,Z'</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">docker.registry</span></code></dt><dd><p>The registry from where Docker images are pulled. It should be only used to specify a private registry server. It should NOT include the protocol prefix i.e. <code class="docutils literal notranslate"><span class="pre">http://</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">docker.remove</span></code></dt><dd><p>Clean-up the container after the execution (default: <code class="docutils literal notranslate"><span class="pre">true</span></code>). See the <a class="reference external" href="https://docs.docker.com/engine/reference/run/#clean-up---rm">Docker documentation</a> for details.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">docker.runOptions</span></code></dt><dd><p>This attribute can be used to provide any extra command line options supported by the <code class="docutils literal notranslate"><span class="pre">docker</span> <span class="pre">run</span></code> command. See the <a class="reference external" href="https://docs.docker.com/engine/reference/run/">Docker documentation</a> for details.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">docker.sudo</span></code></dt><dd><p>Executes Docker run command as <code class="docutils literal notranslate"><span class="pre">sudo</span></code> (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">docker.temp</span></code></dt><dd><p>Mounts a path of your choice as the <code class="docutils literal notranslate"><span class="pre">/tmp</span></code> directory in the container. Use the special value <code class="docutils literal notranslate"><span class="pre">auto</span></code> to create a temporary directory each time a container is created.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">docker.tty</span></code></dt><dd><p>Allocates a pseudo-tty (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
</dl>
<p>Read the <a class="reference internal" href="container.html#container-docker"><span class="std std-ref">Docker</span></a> page to learn more about how to use Docker containers with Nextflow.</p>
</section>
<section id="scope-env">
<span id="config-env"></span><h3>Scope <code class="docutils literal notranslate"><span class="pre">env</span></code><a class="headerlink" href="#scope-env" title="Permalink to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">env</span></code> scope allows the definition one or more variables that will be exported into the environment where workflow tasks are executed.</p>
<p>Simply prefix your variable names with the <code class="docutils literal notranslate"><span class="pre">env</span></code> scope or surround them by curly brackets, as shown below:</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">env</span><span class="o">.</span><span class="na">ALPHA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;some value&#39;</span>
<span class="n">env</span><span class="o">.</span><span class="na">BETA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;$HOME/some/path&quot;</span>

<span class="n">env</span><span class="w"> </span><span class="o">{</span>
<span class="w">     </span><span class="n">DELTA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;one more&#39;</span>
<span class="w">     </span><span class="n">GAMMA</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;/my/path:$PATH&quot;</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In the above example, variables like <code class="docutils literal notranslate"><span class="pre">$HOME</span></code> and <code class="docutils literal notranslate"><span class="pre">$PATH</span></code> are evaluated when the workflow is launched. If you want these variables to be evaluated during task execution, escape them with <code class="docutils literal notranslate"><span class="pre">\$</span></code>. This difference is important for variables like <code class="docutils literal notranslate"><span class="pre">$PATH</span></code>, which may be different in the workflow environment versus the task environment.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The <code class="docutils literal notranslate"><span class="pre">env</span></code> scope provides environment variables to <em>tasks</em>, not Nextflow itself. Nextflow environment variables such as <code class="docutils literal notranslate"><span class="pre">NXF_VER</span></code> should be set in the environment in which Nextflow is launched.</p>
</div>
</section>
<section id="scope-executor">
<span id="config-executor"></span><h3>Scope <code class="docutils literal notranslate"><span class="pre">executor</span></code><a class="headerlink" href="#scope-executor" title="Permalink to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">executor</span></code> scope controls various executor behaviors.</p>
<p>The following settings are available:</p>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">executor.cpus</span></code></dt><dd><p>The maximum number of CPUs made available by the underlying system. Used only by the <code class="docutils literal notranslate"><span class="pre">local</span></code> executor.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">executor.dumpInterval</span></code></dt><dd><p>Determines how often to log the executor status (default: <code class="docutils literal notranslate"><span class="pre">5min</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">executor.exitReadTimeout</span></code></dt><dd><p>Determines how long to wait before returning an error status when a process is terminated but the <code class="docutils literal notranslate"><span class="pre">.exitcode</span></code> file does not exist or is empty (default: <code class="docutils literal notranslate"><span class="pre">270</span> <span class="pre">sec</span></code>). Used only by grid executors.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">executor.jobName</span></code></dt><dd><p>Determines the name of jobs submitted to the underlying cluster executor e.g. <code class="docutils literal notranslate"><span class="pre">executor.jobName</span> <span class="pre">=</span> <span class="pre">{</span> <span class="pre">&quot;$task.name</span> <span class="pre">-</span> <span class="pre">$task.hash&quot;</span> <span class="pre">}</span></code>. Make sure the resulting job name matches the validation constraints of the underlying batch scheduler.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">executor.killBatchSize</span></code></dt><dd><p>Determines the number of jobs that can be killed in a single command execution (default: <code class="docutils literal notranslate"><span class="pre">100</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">executor.memory</span></code></dt><dd><p>The maximum amount of memory made available by the underlying system. Used only by the <code class="docutils literal notranslate"><span class="pre">local</span></code> executor.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">executor.name</span></code></dt><dd><p>The name of the executor to be used (default: <code class="docutils literal notranslate"><span class="pre">local</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">executor.perCpuMemAllocation</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 23.07.0-edge.</span></p>
</div>
</dd>
<dd><p><em>Used only by the <a class="reference internal" href="executor.html#slurm-executor"><span class="std std-ref">SLURM</span></a> executor.</em></p>
</dd>
<dd><p>When <code class="docutils literal notranslate"><span class="pre">true</span></code>, specifies memory allocations for SLURM jobs as <code class="docutils literal notranslate"><span class="pre">--mem-per-cpu</span> <span class="pre">&lt;task.memory</span> <span class="pre">/</span> <span class="pre">task.cpus&gt;</span></code> instead of <code class="docutils literal notranslate"><span class="pre">--mem</span> <span class="pre">&lt;task.memory&gt;</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">executor.perJobMemLimit</span></code></dt><dd><p>Specifies Platform LSF <em>per-job</em> memory limit mode. See <a class="reference internal" href="executor.html#lsf-executor"><span class="std std-ref">LSF</span></a>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">executor.perTaskReserve</span></code></dt><dd><p>Specifies Platform LSF <em>per-task</em> memory reserve mode. See <a class="reference internal" href="executor.html#lsf-executor"><span class="std std-ref">LSF</span></a>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">executor.pollInterval</span></code></dt><dd><p>Determines how often to check for process termination. Default varies for each executor (see below).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">executor.queueGlobalStatus</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 23.01.0-edge.</span></p>
</div>
</dd>
<dd><p>Determines how job status is retrieved. When <code class="docutils literal notranslate"><span class="pre">false</span></code> only the queue associated with the job execution is queried. When <code class="docutils literal notranslate"><span class="pre">true</span></code> the job status is queried globally i.e. irrespective of the submission queue (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">executor.queueSize</span></code></dt><dd><p>The number of tasks the executor will handle in a parallel manner. A queue size of zero corresponds to no limit. Default varies for each executor (see below).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">executor.queueStatInterval</span></code></dt><dd><p>Determines how often to fetch the queue status from the scheduler (default: <code class="docutils literal notranslate"><span class="pre">1min</span></code>). Used only by grid executors.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">executor.retry.delay</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 22.03.0-edge.</span></p>
</div>
</dd>
<dd><p>Delay when retrying failed job submissions (default: <code class="docutils literal notranslate"><span class="pre">500ms</span></code>). Used only by grid executors.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">executor.retry.jitter</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 22.03.0-edge.</span></p>
</div>
</dd>
<dd><p>Jitter value when retrying failed job submissions (default: <code class="docutils literal notranslate"><span class="pre">0.25</span></code>). Used only by grid executors.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">executor.retry.maxAttempt</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 22.03.0-edge.</span></p>
</div>
</dd>
<dd><p>Max attempts when retrying failed job submissions (default: <code class="docutils literal notranslate"><span class="pre">3</span></code>). Used only by grid executors.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">executor.retry.maxDelay</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 22.03.0-edge.</span></p>
</div>
</dd>
<dd><p>Max delay when retrying failed job submissions (default: <code class="docutils literal notranslate"><span class="pre">30s</span></code>). Used only by grid executors.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">executor.retry.reason</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 22.03.0-edge.</span></p>
</div>
</dd>
<dd><p>Regex pattern that when verified cause a failed submit operation to be re-tried (default: <code class="docutils literal notranslate"><span class="pre">Socket</span> <span class="pre">timed</span> <span class="pre">out</span></code>). Used only by grid executors.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">executor.submitRateLimit</span></code></dt><dd><p>Determines the max rate of job submission per time unit, for example <code class="docutils literal notranslate"><span class="pre">'10sec'</span></code> (10 jobs per second) or <code class="docutils literal notranslate"><span class="pre">'50/2min'</span></code> (50 jobs every 2 minutes) (default: unlimited).</p>
</dd>
</dl>
<p>Some executor settings have different default values depending on the executor.</p>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Executor</p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">queueSize</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">pollInterval</span></code></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>AWS Batch</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1000</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">10s</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Azure Batch</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1000</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">10s</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Google Batch</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">1000</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">10s</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Grid Executors</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">100</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">5s</span></code></p></td>
</tr>
<tr class="row-even"><td><p>Kubernetes</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">100</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">5s</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Local</p></td>
<td><p>N/A</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">100ms</span></code></p></td>
</tr>
</tbody>
</table>
<p>The executor settings can be defined as shown below:</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">executor</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;sge&#39;</span>
<span class="w">    </span><span class="n">queueSize</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">200</span>
<span class="w">    </span><span class="n">pollInterval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;30 sec&#39;</span>
<span class="o">}</span>
</pre></div>
</div>
<p>When using two (or more) different executors in your pipeline, you can specify their settings separately by prefixing the executor name with the symbol <code class="docutils literal notranslate"><span class="pre">$</span></code> and using it as special scope identifier. For example:</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">executor</span><span class="w"> </span><span class="o">{</span>
<span class="w">  </span><span class="n">$sge</span><span class="w"> </span><span class="o">{</span>
<span class="w">      </span><span class="n">queueSize</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span>
<span class="w">      </span><span class="n">pollInterval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;30sec&#39;</span>
<span class="w">  </span><span class="o">}</span>

<span class="w">  </span><span class="n">$local</span><span class="w"> </span><span class="o">{</span>
<span class="w">      </span><span class="n">cpus</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span>
<span class="w">      </span><span class="n">memory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;32 GB&#39;</span>
<span class="w">  </span><span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>The above configuration example can be rewritten using the dot notation as shown below:</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">executor</span><span class="o">.</span><span class="n">$sge</span><span class="o">.</span><span class="na">queueSize</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span>
<span class="n">executor</span><span class="o">.</span><span class="n">$sge</span><span class="o">.</span><span class="na">pollInterval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;30sec&#39;</span>
<span class="n">executor</span><span class="o">.</span><span class="n">$local</span><span class="o">.</span><span class="na">cpus</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span>
<span class="n">executor</span><span class="o">.</span><span class="n">$local</span><span class="o">.</span><span class="na">memory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;32 GB&#39;</span>
</pre></div>
</div>
</section>
<section id="scope-google">
<span id="config-google"></span><h3>Scope <code class="docutils literal notranslate"><span class="pre">google</span></code><a class="headerlink" href="#scope-google" title="Permalink to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">google</span></code> scope allows you to configure the interactions with Google Cloud, including Google Cloud Batch, Google Life Sciences, and Google Cloud Storage.</p>
<p>Read the <a class="reference internal" href="google.html#google-page"><span class="std std-ref">Google Cloud</span></a> page for more information.</p>
<section id="cloud-batch">
<h4>Cloud Batch<a class="headerlink" href="#cloud-batch" title="Permalink to this heading"></a></h4>
<p>The following settings are available for Google Cloud Batch:</p>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">google.enableRequesterPaysBuckets</span></code></dt><dd><p>When <code class="docutils literal notranslate"><span class="pre">true</span></code> uses the given Google Cloud project ID as the billing project for storage access. This is required when accessing data from <em>requester pays enabled</em> buckets. See <a class="reference external" href="https://cloud.google.com/storage/docs/requester-pays">Requester Pays on Google Cloud Storage documentation</a> (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.httpConnectTimeout</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 23.06.0-edge.</span></p>
</div>
</dd>
<dd><p>Defines the HTTP connection timeout for Cloud Storage API requests (default: <code class="docutils literal notranslate"><span class="pre">'60s'</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.httpReadTimeout</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 23.06.0-edge.</span></p>
</div>
</dd>
<dd><p>Defines the HTTP read timeout for Cloud Storage API requests (default: <code class="docutils literal notranslate"><span class="pre">'60s'</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.location</span></code></dt><dd><p>The Google Cloud location where jobs are executed (default: <code class="docutils literal notranslate"><span class="pre">us-central1</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.batch.maxSpotAttempts</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 23.11.0-edge.</span></p>
</div>
</dd>
<dd><p>Max number of execution attempts of a job interrupted by a Compute Engine spot reclaim event (default: <code class="docutils literal notranslate"><span class="pre">5</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.project</span></code></dt><dd><p>The Google Cloud project ID to use for pipeline execution</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.batch.allowedLocations</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 22.12.0-edge.</span></p>
</div>
</dd>
<dd><p>Define the set of allowed locations for VMs to be provisioned. See <a class="reference external" href="https://cloud.google.com/batch/docs/reference/rest/v1/projects.locations.jobs#locationpolicy">Google documentation</a> for details (default: no restriction).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.batch.bootDiskSize</span></code></dt><dd><p>Set the size of the virtual machine boot disk, e.g <code class="docutils literal notranslate"><span class="pre">50.GB</span></code> (default: none).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.batch.cpuPlatform</span></code></dt><dd><p>Set the minimum CPU Platform, e.g. <code class="docutils literal notranslate"><span class="pre">'Intel</span> <span class="pre">Skylake'</span></code>. See <a class="reference external" href="https://cloud.google.com/compute/docs/instances/specify-min-cpu-platform#specifications">Specifying a minimum CPU Platform for VM instances</a> (default: none).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.batch.network</span></code></dt><dd><p>The URL of an existing network resource to which the VM will be attached.</p>
<p>You can specify the network as a full or partial URL. For example, the following are all valid URLs:</p>
<ul class="simple">
<li><p>https://www.googleapis.com/compute/v1/projects/{project}/global/networks/{network}</p></li>
<li><p>projects/{project}/global/networks/{network}</p></li>
<li><p>global/networks/{network}</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.batch.serviceAccountEmail</span></code></dt><dd><p>Define the Google service account email to use for the pipeline execution. If not specified, the default Compute Engine service account for the project will be used.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.batch.spot</span></code></dt><dd><p>When <code class="docutils literal notranslate"><span class="pre">true</span></code> enables the usage of <em>spot</em> virtual machines or <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.batch.subnetwork</span></code></dt><dd><p>The URL of an existing subnetwork resource in the network to which the VM will be attached.</p>
<p>You can specify the subnetwork as a full or partial URL. For example, the following are all valid URLs:</p>
<ul class="simple">
<li><p>https://www.googleapis.com/compute/v1/projects/{project}/regions/{region}/subnetworks/{subnetwork}</p></li>
<li><p>projects/{project}/regions/{region}/subnetworks/{subnetwork}</p></li>
<li><p>regions/{region}/subnetworks/{subnetwork}</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.batch.usePrivateAddress</span></code></dt><dd><p>When <code class="docutils literal notranslate"><span class="pre">true</span></code> the VM will NOT be provided with a public IP address, and only contain an internal IP. If this option is enabled, the associated job can only load docker images from Google Container Registry, and the job executable cannot use external services other than Google APIs (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.storage.maxAttempts</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 23.11.0-edge.</span></p>
</div>
</dd>
<dd><p>Max attempts when retrying failed API requests to Cloud Storage (default: <code class="docutils literal notranslate"><span class="pre">10</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.storage.maxDelay</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 23.11.0-edge.</span></p>
</div>
</dd>
<dd><p>Max delay when retrying failed API requests to Cloud Storage (default: <code class="docutils literal notranslate"><span class="pre">'90s'</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.storage.multiplier</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 23.11.0-edge.</span></p>
</div>
</dd>
<dd><p>Delay multiplier when retrying failed API requests to Cloud Storage (default: <code class="docutils literal notranslate"><span class="pre">2.0</span></code>).</p>
</dd>
</dl>
</section>
<section id="cloud-life-sciences">
<h4>Cloud Life Sciences<a class="headerlink" href="#cloud-life-sciences" title="Permalink to this heading"></a></h4>
<p>The following settings are available for Cloud Life Sciences:</p>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">google.enableRequesterPaysBuckets</span></code></dt><dd><p>When <code class="docutils literal notranslate"><span class="pre">true</span></code> uses the given Google Cloud project ID as the billing project for storage access. This is required when accessing data from <em>requester pays enabled</em> buckets. See <a class="reference external" href="https://cloud.google.com/storage/docs/requester-pays">Requester Pays on Google Cloud Storage documentation</a> (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.httpConnectTimeout</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 23.06.0-edge.</span></p>
</div>
</dd>
<dd><p>Defines the HTTP connection timeout for Cloud Storage API requests (default: <code class="docutils literal notranslate"><span class="pre">'60s'</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.httpReadTimeout</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 23.06.0-edge.</span></p>
</div>
</dd>
<dd><p>Defines the HTTP read timeout for Cloud Storage API requests (default: <code class="docutils literal notranslate"><span class="pre">'60s'</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.location</span></code></dt><dd><p>The Google Cloud location where jobs are executed (default: <code class="docutils literal notranslate"><span class="pre">us-central1</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.project</span></code></dt><dd><p>The Google Cloud project ID to use for pipeline execution</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.region</span></code></dt><dd><p>The Google Cloud region where jobs are executed. Multiple regions can be provided as a comma-separated list. Cannot be used with the <code class="docutils literal notranslate"><span class="pre">google.zone</span></code> option. See the <a class="reference external" href="https://cloud.google.com/compute/docs/regions-zones/">Google Cloud documentation</a> for a list of available regions and zones.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.zone</span></code></dt><dd><p>The Google Cloud zone where jobs are executed. Multiple zones can be provided as a comma-separated list. Cannot be used with the <code class="docutils literal notranslate"><span class="pre">google.region</span></code> option. See the <a class="reference external" href="https://cloud.google.com/compute/docs/regions-zones/">Google Cloud documentation</a> for a list of available regions and zones.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.batch.allowedLocations</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 22.12.0-edge.</span></p>
</div>
</dd>
<dd><p>Define the set of allowed locations for VMs to be provisioned. See <a class="reference external" href="https://cloud.google.com/batch/docs/reference/rest/v1/projects.locations.jobs#locationpolicy">Google documentation</a> for details (default: no restriction).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.batch.bootDiskSize</span></code></dt><dd><p>Set the size of the virtual machine boot disk, e.g <code class="docutils literal notranslate"><span class="pre">50.GB</span></code> (default: none).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.batch.cpuPlatform</span></code></dt><dd><p>Set the minimum CPU Platform, e.g. <code class="docutils literal notranslate"><span class="pre">'Intel</span> <span class="pre">Skylake'</span></code>. See <a class="reference external" href="https://cloud.google.com/compute/docs/instances/specify-min-cpu-platform#specifications">Specifying a minimum CPU Platform for VM instances</a> (default: none).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.batch.installGpuDrivers</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 23.08.0-edge.</span></p>
</div>
</dd>
<dd><p>When <code class="docutils literal notranslate"><span class="pre">true</span></code> automatically installs the appropriate GPU drivers to the VM when a GPU is requested (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>). Only needed when using an instance template.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.batch.network</span></code></dt><dd><p>Set network name to attach the VM’s network interface to. The value will be prefixed with <code class="docutils literal notranslate"><span class="pre">global/networks/</span></code> unless it contains a <code class="docutils literal notranslate"><span class="pre">/</span></code>, in which case it is assumed to be a fully specified network resource URL. If unspecified, the global default network is used.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.batch.serviceAccountEmail</span></code></dt><dd><p>Define the Google service account email to use for the pipeline execution. If not specified, the default Compute Engine service account for the project will be used.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.batch.spot</span></code></dt><dd><p>When <code class="docutils literal notranslate"><span class="pre">true</span></code> enables the usage of <em>spot</em> virtual machines or <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.batch.subnetwork</span></code></dt><dd><p>Define the name of the subnetwork to attach the instance to must be specified here, when the specified network is configured for custom subnet creation. The value is prefixed with <code class="docutils literal notranslate"><span class="pre">regions/subnetworks/</span></code> unless it contains a <code class="docutils literal notranslate"><span class="pre">/</span></code>, in which case it is assumed to be a fully specified subnetwork resource URL.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.batch.usePrivateAddress</span></code></dt><dd><p>When <code class="docutils literal notranslate"><span class="pre">true</span></code> the VM will NOT be provided with a public IP address, and only contain an internal IP. If this option is enabled, the associated job can only load docker images from Google Container Registry, and the job executable cannot use external services other than Google APIs (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.lifeSciences.bootDiskSize</span></code></dt><dd><p>Set the size of the virtual machine boot disk e.g <code class="docutils literal notranslate"><span class="pre">50.GB</span></code> (default: none).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.lifeSciences.copyImage</span></code></dt><dd><p>The container image run to copy input and output files. It must include the <code class="docutils literal notranslate"><span class="pre">gsutil</span></code> tool (default: <code class="docutils literal notranslate"><span class="pre">google/cloud-sdk:alpine</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.lifeSciences.cpuPlatform</span></code></dt><dd><p>Set the minimum CPU Platform e.g. <code class="docutils literal notranslate"><span class="pre">'Intel</span> <span class="pre">Skylake'</span></code>. See <a class="reference external" href="https://cloud.google.com/compute/docs/instances/specify-min-cpu-platform#specifications">Specifying a minimum CPU Platform for VM instances</a> (default: none).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.lifeSciences.debug</span></code></dt><dd><p>When <code class="docutils literal notranslate"><span class="pre">true</span></code> copies the <code class="docutils literal notranslate"><span class="pre">/google</span></code> debug directory in that task bucket directory (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.lifeSciences.keepAliveOnFailure</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 21.06.0-edge.</span></p>
</div>
</dd>
<dd><p>When <code class="docutils literal notranslate"><span class="pre">true</span></code> and a task complete with an unexpected exit status the associated compute node is kept up for 1 hour. This options implies <code class="docutils literal notranslate"><span class="pre">sshDaemon=true</span></code> (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.lifeSciences.network</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 21.03.0-edge.</span></p>
</div>
</dd>
<dd><p>Set network name to attach the VM’s network interface to. The value will be prefixed with <code class="docutils literal notranslate"><span class="pre">global/networks/</span></code> unless it contains a <code class="docutils literal notranslate"><span class="pre">/</span></code>, in which case it is assumed to be a fully specified network resource URL. If unspecified, the global default network is used.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.lifeSciences.preemptible</span></code></dt><dd><p>When <code class="docutils literal notranslate"><span class="pre">true</span></code> enables the usage of <em>preemptible</em> virtual machines or <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise (default: <code class="docutils literal notranslate"><span class="pre">true</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.lifeSciences.serviceAccountEmail</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 20.05.0-edge.</span></p>
</div>
</dd>
<dd><p>Define the Google service account email to use for the pipeline execution. If not specified, the default Compute Engine service account for the project will be used.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.lifeSciences.subnetwork</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 21.03.0-edge.</span></p>
</div>
</dd>
<dd><p>Define the name of the subnetwork to attach the instance to must be specified here, when the specified network is configured for custom subnet creation. The value is prefixed with <code class="docutils literal notranslate"><span class="pre">regions/subnetworks/</span></code> unless it contains a <code class="docutils literal notranslate"><span class="pre">/</span></code>, in which case it is assumed to be a fully specified subnetwork resource URL.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.lifeSciences.sshDaemon</span></code></dt><dd><p>When <code class="docutils literal notranslate"><span class="pre">true</span></code> runs SSH daemon in the VM carrying out the job to which it’s possible to connect for debugging purposes (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.lifeSciences.sshImage</span></code></dt><dd><p>The container image used to run the SSH daemon (default: <code class="docutils literal notranslate"><span class="pre">gcr.io/cloud-genomics-pipelines/tools</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.lifeSciences.usePrivateAddress</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 20.03.0-edge.</span></p>
</div>
</dd>
<dd><p>When <code class="docutils literal notranslate"><span class="pre">true</span></code> the VM will NOT be provided with a public IP address, and only contain an internal IP. If this option is enabled, the associated job can only load docker images from Google Container Registry, and the job executable cannot use external services other than Google APIs (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.storage.delayBetweenAttempts</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 21.06.0-edge.</span></p>
</div>
</dd>
<dd><p>Delay between download attempts from Google Storage (default <code class="docutils literal notranslate"><span class="pre">10</span> <span class="pre">sec</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.storage.downloadMaxComponents</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 21.06.0-edge.</span></p>
</div>
</dd>
<dd><p>Defines the value for the option <code class="docutils literal notranslate"><span class="pre">GSUtil:sliced_object_download_max_components</span></code> used by <code class="docutils literal notranslate"><span class="pre">gsutil</span></code> for transfer input and output data (default: <code class="docutils literal notranslate"><span class="pre">8</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.storage.maxParallelTransfers</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 21.06.0-edge.</span></p>
</div>
</dd>
<dd><p>Max parallel upload/download transfer operations <em>per job</em> (default: <code class="docutils literal notranslate"><span class="pre">4</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.storage.maxTransferAttempts</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 21.06.0-edge.</span></p>
</div>
</dd>
<dd><p>Max number of downloads attempts from Google Storage (default: <code class="docutils literal notranslate"><span class="pre">1</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">google.storage.parallelThreadCount</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 21.06.0-edge.</span></p>
</div>
</dd>
<dd><p>Defines the value for the option <code class="docutils literal notranslate"><span class="pre">GSUtil:parallel_thread_count</span></code> used by <code class="docutils literal notranslate"><span class="pre">gsutil</span></code> for transfer input and output data (default: <code class="docutils literal notranslate"><span class="pre">1</span></code>).</p>
</dd>
</dl>
</section>
</section>
<section id="scope-k8s">
<span id="config-k8s"></span><h3>Scope <code class="docutils literal notranslate"><span class="pre">k8s</span></code><a class="headerlink" href="#scope-k8s" title="Permalink to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">k8s</span></code> scope controls the deployment and execution of workflow applications in a Kubernetes cluster.</p>
<p>The following settings are available:</p>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">k8s.autoMountHostPaths</span></code></dt><dd><p>Automatically mounts host paths in the job pods. Only for development purpose when using a single node cluster (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">k8s.computeResourceType</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 22.05.0-edge.</span></p>
</div>
</dd>
<dd><p>Define whether use Kubernetes <code class="docutils literal notranslate"><span class="pre">Pod</span></code> or <code class="docutils literal notranslate"><span class="pre">Job</span></code> resource type to carry out Nextflow tasks (default: <code class="docutils literal notranslate"><span class="pre">Pod</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">k8s.context</span></code></dt><dd><p>Defines the Kubernetes <a class="reference external" href="https://kubernetes.io/docs/tasks/access-application-cluster/configure-access-multiple-clusters/">configuration context name</a> to use.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">k8s.fetchNodeName</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 22.05.0-edge.</span></p>
</div>
</dd>
<dd><p>If you trace the hostname, activate this option (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">k8s.httpConnectTimeout</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 22.10.0.</span></p>
</div>
</dd>
<dd><p>Defines the Kubernetes client request HTTP connection timeout e.g. <code class="docutils literal notranslate"><span class="pre">'60s'</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">k8s.httpReadTimeout</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 22.10.0.</span></p>
</div>
</dd>
<dd><p>Defines the Kubernetes client request HTTP connection read timeout e.g. <code class="docutils literal notranslate"><span class="pre">'60s'</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">k8s.launchDir</span></code></dt><dd><p>Defines the path where the workflow is launched and the user data is stored. This must be a path in a shared K8s persistent volume (default: <code class="docutils literal notranslate"><span class="pre">&lt;volume-claim-mount-path&gt;/&lt;user-name&gt;</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">k8s.maxErrorRetry</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 22.09.6-edge.</span></p>
</div>
</dd>
<dd><p>Defines the Kubernetes API max request retries (default: 4).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">k8s.namespace</span></code></dt><dd><p>Defines the Kubernetes namespace to use (default: <code class="docutils literal notranslate"><span class="pre">default</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">k8s.pod</span></code></dt><dd><p>Allows the definition of one or more pod configuration options such as environment variables, config maps, secrets, etc. It allows the same settings as the <a class="reference internal" href="process.html#process-pod"><span class="std std-ref">pod</span></a> process directive.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">k8s.projectDir</span></code></dt><dd><p>Defines the path where Nextflow projects are downloaded. This must be a path in a shared K8s persistent volume (default: <code class="docutils literal notranslate"><span class="pre">&lt;volume-claim-mount-path&gt;/projects</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">k8s.pullPolicy</span></code></dt><dd><p>Defines the strategy to be used to pull the container image e.g. <code class="docutils literal notranslate"><span class="pre">pullPolicy:</span> <span class="pre">'Always'</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">k8s.runAsUser</span></code></dt><dd><p>Defines the user ID to be used to run the containers. Shortcut for the <code class="docutils literal notranslate"><span class="pre">securityContext</span></code> option.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">k8s.securityContext</span></code></dt><dd><p>Defines the <a class="reference external" href="https://kubernetes.io/docs/tasks/configure-pod-container/security-context/">security context</a> for all pods.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">k8s.serviceAccount</span></code></dt><dd><p>Defines the Kubernetes <a class="reference external" href="https://kubernetes.io/docs/tasks/configure-pod-container/configure-service-account/">service account name</a> to use.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">k8s.storageClaimName</span></code></dt><dd><p>The name of the persistent volume claim where store workflow result data.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">k8s.storageMountPath</span></code></dt><dd><p>The path location used to mount the persistent volume claim (default: <code class="docutils literal notranslate"><span class="pre">/workspace</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">k8s.storageSubPath</span></code></dt><dd><p>The path in the persistent volume to be mounted (default: <code class="docutils literal notranslate"><span class="pre">/</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">k8s.workDir</span></code></dt><dd><p>Defines the path where the workflow temporary data is stored. This must be a path in a shared K8s persistent volume (default: <code class="docutils literal notranslate"><span class="pre">&lt;user-dir&gt;/work</span></code>).</p>
</dd>
</dl>
<p>See the <a class="reference internal" href="kubernetes.html#k8s-page"><span class="std std-ref">Kubernetes</span></a> page for more details.</p>
</section>
<section id="scope-mail">
<span id="config-mail"></span><h3>Scope <code class="docutils literal notranslate"><span class="pre">mail</span></code><a class="headerlink" href="#scope-mail" title="Permalink to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">mail</span></code> scope controls the mail server used to send email notifications.</p>
<p>The following settings are available:</p>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">mail.debug</span></code></dt><dd><p>When <code class="docutils literal notranslate"><span class="pre">true</span></code> enables Java Mail logging for debugging purpose.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">mail.from</span></code></dt><dd><p>Default email sender address.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">mail.smtp.host</span></code></dt><dd><p>Host name of the mail server.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">mail.smtp.port</span></code></dt><dd><p>Port number of the mail server.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">mail.smtp.user</span></code></dt><dd><p>User name to connect to the mail server.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">mail.smtp.password</span></code></dt><dd><p>User password to connect to the mail server.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">mail.smtp.proxy.host</span></code></dt><dd><p>Host name of an HTTP web proxy server that will be used for connections to the mail server.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">mail.smtp.proxy.port</span></code></dt><dd><p>Port number for the HTTP web proxy server.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">mail.smtp.*</span></code></dt><dd><p>Any SMTP configuration property supported by the <a class="reference external" href="https://javaee.github.io/javamail/">Java Mail API</a>, which Nextflow uses to send emails. See the table of available properties <a class="reference external" href="https://javaee.github.io/javamail/docs/api/com/sun/mail/smtp/package-summary.html#properties">here</a>.</p>
</dd>
</dl>
<p>For example, the following snippet shows how to configure Nextflow to send emails through the <a class="reference external" href="https://aws.amazon.com/ses/">AWS Simple Email Service</a>:</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">mail</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">smtp</span><span class="o">.</span><span class="na">host</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;email-smtp.us-east-1.amazonaws.com&#39;</span>
<span class="w">    </span><span class="n">smtp</span><span class="o">.</span><span class="na">port</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">587</span>
<span class="w">    </span><span class="n">smtp</span><span class="o">.</span><span class="na">user</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&lt;Your AWS SES access key&gt;&#39;</span>
<span class="w">    </span><span class="n">smtp</span><span class="o">.</span><span class="na">password</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&lt;Your AWS SES secret key&gt;&#39;</span>
<span class="w">    </span><span class="n">smtp</span><span class="o">.</span><span class="na">auth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="n">smtp</span><span class="o">.</span><span class="na">starttls</span><span class="o">.</span><span class="na">enable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="n">smtp</span><span class="o">.</span><span class="na">starttls</span><span class="o">.</span><span class="na">required</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Some versions of Java (e.g. Java 11 Corretto) do not default to TLS v1.2, and as a result may have issues with 3rd party integrations that enforce TLS v1.2 (e.g. Azure Active Directory OIDC). This problem can be addressed by setting the following config option:</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">mail</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">smtp</span><span class="o">.</span><span class="na">ssl</span><span class="o">.</span><span class="na">protocols</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;TLSv1.2&#39;</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
</section>
<section id="scope-manifest">
<span id="config-manifest"></span><h3>Scope <code class="docutils literal notranslate"><span class="pre">manifest</span></code><a class="headerlink" href="#scope-manifest" title="Permalink to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">manifest</span></code> scope allows you to define some meta-data information needed when publishing or running your pipeline.</p>
<p>The following settings are available:</p>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">manifest.author</span></code></dt><dd><p>Project author name (use a comma to separate multiple names).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">manifest.defaultBranch</span></code></dt><dd><p>Git repository default branch (default: <code class="docutils literal notranslate"><span class="pre">master</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">manifest.description</span></code></dt><dd><p>Free text describing the workflow project.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">manifest.doi</span></code></dt><dd><p>Project related publication DOI identifier.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">manifest.homePage</span></code></dt><dd><p>Project home page URL.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">manifest.mainScript</span></code></dt><dd><p>Project main script (default: <code class="docutils literal notranslate"><span class="pre">main.nf</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">manifest.name</span></code></dt><dd><p>Project short name.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">manifest.nextflowVersion</span></code></dt><dd><p>Minimum required Nextflow version.</p>
<p>This setting may be useful to ensure that a specific version is used:</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">manifest</span><span class="o">.</span><span class="na">nextflowVersion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;1.2.3&#39;</span><span class="w">        </span><span class="c1">// exact match</span>
<span class="n">manifest</span><span class="o">.</span><span class="na">nextflowVersion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;1.2+&#39;</span><span class="w">         </span><span class="c1">// 1.2 or later (excluding 2 and later)</span>
<span class="n">manifest</span><span class="o">.</span><span class="na">nextflowVersion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&gt;=1.2&#39;</span><span class="w">        </span><span class="c1">// 1.2 or later</span>
<span class="n">manifest</span><span class="o">.</span><span class="na">nextflowVersion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&gt;=1.2, &lt;=1.5&#39;</span><span class="w"> </span><span class="c1">// any version in the 1.2 .. 1.5 range</span>
<span class="n">manifest</span><span class="o">.</span><span class="na">nextflowVersion</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;!&gt;=1.2&#39;</span><span class="w">       </span><span class="c1">// with ! prefix, stop execution if current version does not match required version.</span>
</pre></div>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">manifest.recurseSubmodules</span></code></dt><dd><p>Pull submodules recursively from the Git repository.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">manifest.version</span></code></dt><dd><p>Project version number.</p>
</dd>
</dl>
<p>The above options can also be specified in a <code class="docutils literal notranslate"><span class="pre">manifest</span></code> block, for example:</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">manifest</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">homePage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;http://foo.com&#39;</span>
<span class="w">    </span><span class="n">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;Pipeline does this and that&#39;</span>
<span class="w">    </span><span class="n">mainScript</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;foo.nf&#39;</span>
<span class="w">    </span><span class="n">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;1.0.0&#39;</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Read the <a class="reference internal" href="sharing.html#sharing-page"><span class="std std-ref">Pipeline sharing</span></a> page to learn how to publish your pipeline to GitHub, BitBucket or GitLab.</p>
</section>
<section id="scope-notification">
<span id="config-notification"></span><h3>Scope <code class="docutils literal notranslate"><span class="pre">notification</span></code><a class="headerlink" href="#scope-notification" title="Permalink to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">notification</span></code> scope allows you to define the automatic sending of a notification email message when the workflow execution terminates.</p>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">notification.attributes</span></code></dt><dd><p>A map object modelling the variables that can be used in the template file.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">notification.enabled</span></code></dt><dd><p>Enables the sending of a notification message when the workflow execution completes.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">notification.from</span></code></dt><dd><p>Sender address for the notification email message.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">notification.template</span></code></dt><dd><p>Path of a template file which provides the content of the notification message.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">notification.to</span></code></dt><dd><p>Recipient address for the notification email. Multiple addresses can be specified separating them with a comma.</p>
</dd>
</dl>
<p>The notification message is sent my using the STMP server defined in the configuration <a class="reference internal" href="#config-mail"><span class="std std-ref">mail scope</span></a>.</p>
<p>If no mail configuration is provided, it tries to send the notification message by using the external mail command eventually provided by the underlying system (e.g. <code class="docutils literal notranslate"><span class="pre">sendmail</span></code> or <code class="docutils literal notranslate"><span class="pre">mail</span></code>).</p>
</section>
<section id="scope-params">
<span id="config-params"></span><h3>Scope <code class="docutils literal notranslate"><span class="pre">params</span></code><a class="headerlink" href="#scope-params" title="Permalink to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">params</span></code> scope allows you to define parameters that will be accessible in the pipeline script. Simply prefix the parameter names with the <code class="docutils literal notranslate"><span class="pre">params</span></code> scope or surround them by curly brackets, as shown below:</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">params</span><span class="o">.</span><span class="na">custom_param</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">123</span>
<span class="n">params</span><span class="o">.</span><span class="na">another_param</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;string value .. &#39;</span>

<span class="n">params</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">alpha_1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="n">beta_2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;another string ..&#39;</span>
<span class="o">}</span>
</pre></div>
</div>
</section>
<section id="scope-podman">
<span id="config-podman"></span><h3>Scope <code class="docutils literal notranslate"><span class="pre">podman</span></code><a class="headerlink" href="#scope-podman" title="Permalink to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">podman</span></code> scope controls how <a class="reference external" href="https://podman.io/">Podman</a> containers are executed by Nextflow.</p>
<p>The following settings are available:</p>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">podman.enabled</span></code></dt><dd><p>Enable Podman execution (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">podman.engineOptions</span></code></dt><dd><p>This attribute can be used to provide any option supported by the Podman engine i.e. <code class="docutils literal notranslate"><span class="pre">podman</span> <span class="pre">[OPTIONS]</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">podman.envWhitelist</span></code></dt><dd><p>Comma separated list of environment variable names to be included in the container environment.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">podman.mountFlags</span></code></dt><dd><p>Add the specified flags to the volume mounts e.g. <code class="docutils literal notranslate"><span class="pre">mountFlags</span> <span class="pre">=</span> <span class="pre">'ro,Z'</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">podman.registry</span></code></dt><dd><p>The registry from where container images are pulled. It should be only used to specify a private registry server. It should NOT include the protocol prefix i.e. <code class="docutils literal notranslate"><span class="pre">http://</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">podman.remove</span></code></dt><dd><p>Clean-up the container after the execution (default: <code class="docutils literal notranslate"><span class="pre">true</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">podman.runOptions</span></code></dt><dd><p>This attribute can be used to provide any extra command line options supported by the <code class="docutils literal notranslate"><span class="pre">podman</span> <span class="pre">run</span></code> command.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">podman.temp</span></code></dt><dd><p>Mounts a path of your choice as the <code class="docutils literal notranslate"><span class="pre">/tmp</span></code> directory in the container. Use the special value <code class="docutils literal notranslate"><span class="pre">auto</span></code> to create a temporary directory each time a container is created.</p>
</dd>
</dl>
<p>Read the <a class="reference internal" href="container.html#container-podman"><span class="std std-ref">Podman</span></a> page to learn more about how to use Podman containers with Nextflow.</p>
</section>
<section id="scope-process">
<span id="config-process"></span><h3>Scope <code class="docutils literal notranslate"><span class="pre">process</span></code><a class="headerlink" href="#scope-process" title="Permalink to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">process</span></code> scope allows you to specify default <a class="reference internal" href="process.html#process-directives"><span class="std std-ref">directives</span></a> for processes in your pipeline.</p>
<p>For example:</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">process</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">executor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;sge&#39;</span>
<span class="w">    </span><span class="n">queue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;long&#39;</span>
<span class="w">    </span><span class="n">clusterOptions</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;-pe smp 10 -l virtual_free=64G,h_rt=30:00:00&#39;</span>
<span class="o">}</span>
</pre></div>
</div>
<p>By using this configuration, all processes in your pipeline will be executed through the SGE cluster, with the specified settings.</p>
<section id="process-selectors">
<span id="config-process-selectors"></span><h4>Process selectors<a class="headerlink" href="#process-selectors" title="Permalink to this heading"></a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">withLabel</span></code> selectors allow the configuration of all processes annotated with a <a class="reference internal" href="process.html#process-label"><span class="std std-ref">label</span></a> directive as shown below:</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">process</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nl">withLabel:</span><span class="w"> </span><span class="n">big_mem</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">cpus</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">16</span>
<span class="w">        </span><span class="n">memory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">64</span><span class="o">.</span><span class="na">GB</span>
<span class="w">        </span><span class="n">queue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;long&#39;</span>
<span class="w">    </span><span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>The above configuration example assigns 16 cpus, 64 Gb of memory and the <code class="docutils literal notranslate"><span class="pre">long</span></code> queue to all processes annotated with the <code class="docutils literal notranslate"><span class="pre">big_mem</span></code> label.</p>
<p>In the same manner, the <code class="docutils literal notranslate"><span class="pre">withName</span></code> selector allows the configuration of a specific process in your pipeline by its name. For example:</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">process</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nl">withName:</span><span class="w"> </span><span class="n">hello</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">cpus</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span>
<span class="w">        </span><span class="n">memory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="o">.</span><span class="na">GB</span>
<span class="w">        </span><span class="n">queue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;short&#39;</span>
<span class="w">    </span><span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code class="docutils literal notranslate"><span class="pre">withName</span></code> selector applies to a process even when it is included from a module under an alias. For example, <code class="docutils literal notranslate"><span class="pre">withName:</span> <span class="pre">hello</span></code> will apply to any process originally defined as <code class="docutils literal notranslate"><span class="pre">hello</span></code>, regardless of whether it is included under an alias. Similarly, it will not apply to any process not originally defined as <code class="docutils literal notranslate"><span class="pre">hello</span></code>, even if it is included under the alias <code class="docutils literal notranslate"><span class="pre">hello</span></code>.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Label and process names do not need to be enclosed with quotes, provided the name does not include special characters (<code class="docutils literal notranslate"><span class="pre">-</span></code>, <code class="docutils literal notranslate"><span class="pre">!</span></code>, etc) and is not a keyword or a built-in type identifier. When in doubt, you can enclose the label name or process name with single or double quotes.</p>
</div>
</section>
<section id="selector-expressions">
<span id="config-selector-expressions"></span><h4>Selector expressions<a class="headerlink" href="#selector-expressions" title="Permalink to this heading"></a></h4>
<p>Both label and process name selectors allow the use of a regular expression in order to apply the same configuration to all processes matching the specified pattern condition. For example:</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">process</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nl">withLabel:</span><span class="w"> </span><span class="s1">&#39;foo|bar&#39;</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">cpus</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span>
<span class="w">        </span><span class="n">memory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="o">.</span><span class="na">GB</span>
<span class="w">    </span><span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>The above configuration snippet sets 2 cpus and 4 GB of memory to the processes annotated with a label <code class="docutils literal notranslate"><span class="pre">foo</span></code> and <code class="docutils literal notranslate"><span class="pre">bar</span></code>.</p>
<p>A process selector can be negated prefixing it with the special character <code class="docutils literal notranslate"><span class="pre">!</span></code>. For example:</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">process</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="nl">withLabel:</span><span class="w"> </span><span class="s1">&#39;foo&#39;</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="n">cpus</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">}</span>
<span class="w">    </span><span class="nl">withLabel:</span><span class="w"> </span><span class="s1">&#39;!foo&#39;</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="n">cpus</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="o">}</span>
<span class="w">    </span><span class="nl">withName:</span><span class="w"> </span><span class="s1">&#39;!align.*&#39;</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="n">queue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;long&#39;</span><span class="w"> </span><span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>The above configuration snippet sets 2 cpus for the processes annotated with the <code class="docutils literal notranslate"><span class="pre">foo</span></code> label and 4 cpus to all processes <em>not</em> annotated with that label. Finally it sets the use of <code class="docutils literal notranslate"><span class="pre">long</span></code> queue to all process whose name does <em>not</em> start with <code class="docutils literal notranslate"><span class="pre">align</span></code>.</p>
</section>
<section id="selector-priority">
<span id="config-selector-priority"></span><h4>Selector priority<a class="headerlink" href="#selector-priority" title="Permalink to this heading"></a></h4>
<p>When mixing generic process configuration and selectors the following priority rules are applied (from lower to higher):</p>
<ol class="arabic simple">
<li><p>Process generic configuration.</p></li>
<li><p>Process specific directive defined in the workflow script.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">withLabel</span></code> selector definition.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">withName</span></code> selector definition.</p></li>
</ol>
<p>For example:</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">process</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">cpus</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span>
<span class="w">    </span><span class="nl">withLabel:</span><span class="w"> </span><span class="n">foo</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="n">cpus</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="o">}</span>
<span class="w">    </span><span class="nl">withName:</span><span class="w"> </span><span class="n">bar</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="n">cpus</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">32</span><span class="w"> </span><span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Using the above configuration snippet, all workflow processes use 4 cpus if not otherwise specified in the workflow script. Moreover processes annotated with the <code class="docutils literal notranslate"><span class="pre">foo</span></code> label use 8 cpus. Finally the process named <code class="docutils literal notranslate"><span class="pre">bar</span></code> uses 32 cpus.</p>
</section>
</section>
<section id="scope-report">
<span id="config-report"></span><h3>Scope <code class="docutils literal notranslate"><span class="pre">report</span></code><a class="headerlink" href="#scope-report" title="Permalink to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">report</span></code> scope allows you to configure the workflow <a class="reference internal" href="tracing.html#execution-report"><span class="std std-ref">Execution report</span></a>.</p>
<p>The following settings are available:</p>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">report.enabled</span></code></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">true</span></code> it create the workflow execution report.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">report.file</span></code></dt><dd><p>The path of the created execution report file (default: <code class="docutils literal notranslate"><span class="pre">report-&lt;timestamp&gt;.html</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">report.overwrite</span></code></dt><dd><p>When <code class="docutils literal notranslate"><span class="pre">true</span></code> overwrites any existing report file with the same name.</p>
</dd>
</dl>
</section>
<section id="scope-sarus">
<span id="config-sarus"></span><h3>Scope <code class="docutils literal notranslate"><span class="pre">sarus</span></code><a class="headerlink" href="#scope-sarus" title="Permalink to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">sarus</span></code> scope controls how <a class="reference external" href="https://sarus.readthedocs.io">Sarus</a> containers are executed by Nextflow.</p>
<p>The following settings are available:</p>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">sarus.enabled</span></code></dt><dd><p>Enable Sarus execution (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sarus.envWhitelist</span></code></dt><dd><p>Comma separated list of environment variable names to be included in the container environment.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sarus.runOptions</span></code></dt><dd><p>This attribute can be used to provide any extra command line options supported by the <code class="docutils literal notranslate"><span class="pre">sarus</span> <span class="pre">run</span></code> command. For details see the <a class="reference external" href="https://sarus.readthedocs.io/en/stable/user/user_guide.html">Sarus user guide</a>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sarus.tty</span></code></dt><dd><p>Allocates a pseudo-tty (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
</dl>
<p>Read the <a class="reference internal" href="container.html#container-sarus"><span class="std std-ref">Sarus</span></a> page to learn more about how to use Sarus containers with Nextflow.</p>
</section>
<section id="scope-shifter">
<span id="config-shifter"></span><h3>Scope <code class="docutils literal notranslate"><span class="pre">shifter</span></code><a class="headerlink" href="#scope-shifter" title="Permalink to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">shifter</span></code> scope controls how <a class="reference external" href="https://docs.nersc.gov/programming/shifter/overview/">Shifter</a> containers are executed by Nextflow.</p>
<p>The following settings are available:</p>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">shifter.enabled</span></code></dt><dd><p>Enable Shifter execution (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
</dl>
<p>Read the <a class="reference internal" href="container.html#container-shifter"><span class="std std-ref">Shifter</span></a> page to learn more about how to use Shifter containers with Nextflow.</p>
</section>
<section id="scope-singularity">
<span id="config-singularity"></span><h3>Scope <code class="docutils literal notranslate"><span class="pre">singularity</span></code><a class="headerlink" href="#scope-singularity" title="Permalink to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">singularity</span></code> scope controls how <a class="reference external" href="https://sylabs.io/singularity/">Singularity</a> containers are executed by Nextflow.</p>
<p>The following settings are available:</p>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">singularity.autoMounts</span></code></dt><dd><p>When <code class="docutils literal notranslate"><span class="pre">true</span></code> Nextflow automatically mounts host paths in the executed container. It requires the <code class="docutils literal notranslate"><span class="pre">user</span> <span class="pre">bind</span> <span class="pre">control</span></code> feature to be enabled in your Singularity installation (default: <code class="docutils literal notranslate"><span class="pre">true</span></code>).</p>
</dd>
<dd><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 23.09.0-edge: </span>Default value was changed from <code class="docutils literal notranslate"><span class="pre">false</span></code> to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">singularity.cacheDir</span></code></dt><dd><p>The directory where remote Singularity images are stored. When using a computing cluster it must be a shared folder accessible to all compute nodes.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">singularity.enabled</span></code></dt><dd><p>Enable Singularity execution (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">singularity.engineOptions</span></code></dt><dd><p>This attribute can be used to provide any option supported by the Singularity engine i.e. <code class="docutils literal notranslate"><span class="pre">singularity</span> <span class="pre">[OPTIONS]</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">singularity.envWhitelist</span></code></dt><dd><p>Comma separated list of environment variable names to be included in the container environment.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">singularity.noHttps</span></code></dt><dd><p>Pull the Singularity image with http protocol (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">singularity.ociAutoPull</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 23.12.0-edge.</span></p>
</div>
</dd>
<dd><p>When enabled, OCI (and Docker) container images are pull and converted to a SIF image file format implicitly by the Singularity run command, instead of Nextflow. Requires Singulairty 3.11 or later (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">singularity.ociMode</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 23.12.0-edge.</span></p>
</div>
</dd>
<dd><p>Enable OCI-mode, that allows running native OCI compliant container image with Singularity using <code class="docutils literal notranslate"><span class="pre">crun</span></code> or <code class="docutils literal notranslate"><span class="pre">runc</span></code> as low-level runtime. Note: it requires Singulairty 4 or later. See <code class="docutils literal notranslate"><span class="pre">--oci</span></code> flag in the <a class="reference external" href="https://docs.sylabs.io/guides/4.0/user-guide/oci_runtime.html#oci-mode">Singularity documentation</a> for more details and requirements (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">singularity.pullTimeout</span></code></dt><dd><p>The amount of time the Singularity pull can last, exceeding which the process is terminated (default: <code class="docutils literal notranslate"><span class="pre">20</span> <span class="pre">min</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">singularity.registry</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 22.12.0-edge.</span></p>
</div>
</dd>
<dd><p>The registry from where Docker images are pulled. It should be only used to specify a private registry server. It should NOT include the protocol prefix i.e. <code class="docutils literal notranslate"><span class="pre">http://</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">singularity.runOptions</span></code></dt><dd><p>This attribute can be used to provide any extra command line options supported by <code class="docutils literal notranslate"><span class="pre">singularity</span> <span class="pre">exec</span></code>.</p>
</dd>
</dl>
<p>Read the <a class="reference internal" href="container.html#container-singularity"><span class="std std-ref">Singularity</span></a> page to learn more about how to use Singularity containers with Nextflow.</p>
</section>
<section id="scope-spack">
<span id="config-spack"></span><h3>Scope <code class="docutils literal notranslate"><span class="pre">spack</span></code><a class="headerlink" href="#scope-spack" title="Permalink to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">spack</span></code> scope controls the creation of a Spack environment by the Spack package manager.</p>
<p>The following settings are available:</p>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">spack.cacheDir</span></code></dt><dd><p>Defines the path where Spack environments are stored. When using a compute cluster make sure to provide a shared file system path accessible from all compute nodes.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">spack.checksum</span></code></dt><dd><p>Enables checksum verification for source tarballs (default: <code class="docutils literal notranslate"><span class="pre">true</span></code>). Only disable when requesting a package version not yet encoded in the corresponding Spack recipe.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">spack.createTimeout</span></code></dt><dd><p>Defines the amount of time the Spack environment creation can last. The creation process is terminated when the timeout is exceeded (default: <code class="docutils literal notranslate"><span class="pre">60</span> <span class="pre">min</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">spack.parallelBuilds</span></code></dt><dd><p>Sets number of parallel package builds (Spack default: coincides with number of available CPU cores).</p>
</dd>
</dl>
<p>Nextflow does not allow for fine-grained configuration of the Spack package manager. Instead, this has to be performed directly on the host Spack installation. For more information see the <a class="reference external" href="https://spack.readthedocs.io">Spack documentation</a>.</p>
</section>
<section id="scope-timeline">
<span id="config-timeline"></span><h3>Scope <code class="docutils literal notranslate"><span class="pre">timeline</span></code><a class="headerlink" href="#scope-timeline" title="Permalink to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">timeline</span></code> scope controls the execution timeline report generated by Nextflow.</p>
<p>The following settings are available:</p>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">timeline.enabled</span></code></dt><dd><p>When <code class="docutils literal notranslate"><span class="pre">true</span></code> enables the generation of the timeline report file (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">timeline.file</span></code></dt><dd><p>Timeline file name (default: <code class="docutils literal notranslate"><span class="pre">timeline-&lt;timestamp&gt;.html</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">timeline.overwrite</span></code></dt><dd><p>When <code class="docutils literal notranslate"><span class="pre">true</span></code> overwrites any existing timeline file with the same name.</p>
</dd>
</dl>
</section>
<section id="scope-tower">
<span id="config-tower"></span><h3>Scope <code class="docutils literal notranslate"><span class="pre">tower</span></code><a class="headerlink" href="#scope-tower" title="Permalink to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">tower</span></code> scope controls the settings for the <a class="reference external" href="https://tower.nf">Nextflow Tower</a> monitoring and tracing service.</p>
<p>The following settings are available:</p>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">tower.accessToken</span></code></dt><dd><p>The unique access token specific to your account on an instance of Tower.</p>
<p>Your <code class="docutils literal notranslate"><span class="pre">accessToken</span></code> can be obtained from your Tower instance in the <a class="reference external" href="https://tower.nf/tokens">Tokens page</a>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">tower.enabled</span></code></dt><dd><p>When <code class="docutils literal notranslate"><span class="pre">true</span></code> Nextflow sends the workflow tracing and execution metrics to the Nextflow Tower service (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">tower.endpoint</span></code></dt><dd><p>The endpoint of your Tower deployment (default: <code class="docutils literal notranslate"><span class="pre">https://tower.nf</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">tower.workspaceId</span></code></dt><dd><p>The ID of the Tower workspace where the run should be added (default: the launching user personal workspace).</p>
<p>The Tower workspace ID can also be specified using the environment variable <code class="docutils literal notranslate"><span class="pre">TOWER_WORKSPACE_ID</span></code> (config file has priority over the environment variable).</p>
</dd>
</dl>
</section>
<section id="scope-trace">
<span id="config-trace"></span><h3>Scope <code class="docutils literal notranslate"><span class="pre">trace</span></code><a class="headerlink" href="#scope-trace" title="Permalink to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">trace</span></code> scope controls the layout of the execution trace file generated by Nextflow.</p>
<p>The following settings are available:</p>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">trace.enabled</span></code></dt><dd><p>When <code class="docutils literal notranslate"><span class="pre">true</span></code> turns on the generation of the execution trace report file (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">trace.fields</span></code></dt><dd><p>Comma separated list of fields to be included in the report. The available fields are listed at <a class="reference internal" href="tracing.html#trace-fields"><span class="std std-ref">this page</span></a>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">trace.file</span></code></dt><dd><p>Trace file name (default: <code class="docutils literal notranslate"><span class="pre">trace-&lt;timestamp&gt;.txt</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">trace.overwrite</span></code></dt><dd><p>When <code class="docutils literal notranslate"><span class="pre">true</span></code> overwrites any existing trace file with the same name.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">trace.raw</span></code></dt><dd><p>When <code class="docutils literal notranslate"><span class="pre">true</span></code> turns on raw number report generation i.e. date and time are reported as milliseconds and memory as number of bytes.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">trace.sep</span></code></dt><dd><p>Character used to separate values in each row (default: <code class="docutils literal notranslate"><span class="pre">\t</span></code>).</p>
</dd>
</dl>
<p>The above options can also be specified in a <code class="docutils literal notranslate"><span class="pre">trace</span></code> block, for example:</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">trace</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="n">file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;pipeline_trace.txt&#39;</span>
<span class="w">    </span><span class="n">fields</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;task_id,name,status,exit,realtime,%cpu,rss&#39;</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Read the <a class="reference internal" href="tracing.html#trace-report"><span class="std std-ref">Trace report</span></a> page to learn more about the execution report that can be generated by Nextflow.</p>
</section>
<section id="miscellaneous">
<span id="config-miscellaneous"></span><h3>Miscellaneous<a class="headerlink" href="#miscellaneous" title="Permalink to this heading"></a></h3>
<p>There are additional variables that can be defined within a configuration file that do not have a dedicated scope.</p>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">cleanup</span></code></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">true</span></code>, on a successful completion of a run all files in <em>work</em> directory are automatically deleted.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The use of the <code class="docutils literal notranslate"><span class="pre">cleanup</span></code> option will prevent the use of the <em>resume</em> feature on subsequent executions of that pipeline run. Also, be aware that deleting all scratch files can take a lot of time, especially when using a shared file system or remote cloud storage.</p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">dumpHashes</span></code></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">true</span></code>, dump task hash keys in the log file, for debugging purposes.</p>
</dd>
</dl>
</section>
</section>
<section id="config-profiles">
<span id="id1"></span><h2>Config profiles<a class="headerlink" href="#config-profiles" title="Permalink to this heading"></a></h2>
<p>Configuration files can contain the definition of one or more <em>profiles</em>. A profile is a set of configuration attributes that can be selected during pipeline execution by using the <code class="docutils literal notranslate"><span class="pre">-profile</span></code> command line option.</p>
<p>Configuration profiles are defined by using the special scope <code class="docutils literal notranslate"><span class="pre">profiles</span></code>, which group the attributes that belong to the same profile using a common prefix. For example:</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">profiles</span><span class="w"> </span><span class="o">{</span>

<span class="w">    </span><span class="n">standard</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">process</span><span class="o">.</span><span class="na">executor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;local&#39;</span>
<span class="w">    </span><span class="o">}</span>

<span class="w">    </span><span class="n">cluster</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">process</span><span class="o">.</span><span class="na">executor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;sge&#39;</span>
<span class="w">        </span><span class="n">process</span><span class="o">.</span><span class="na">queue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;long&#39;</span>
<span class="w">        </span><span class="n">process</span><span class="o">.</span><span class="na">memory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;10GB&#39;</span>
<span class="w">    </span><span class="o">}</span>

<span class="w">    </span><span class="n">cloud</span><span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="n">process</span><span class="o">.</span><span class="na">executor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;cirrus&#39;</span>
<span class="w">        </span><span class="n">process</span><span class="o">.</span><span class="na">container</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;cbcrg/imagex&#39;</span>
<span class="w">        </span><span class="n">docker</span><span class="o">.</span><span class="na">enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="o">}</span>

<span class="o">}</span>
</pre></div>
</div>
<p>This configuration defines three different profiles: <code class="docutils literal notranslate"><span class="pre">standard</span></code>, <code class="docutils literal notranslate"><span class="pre">cluster</span></code>, and <code class="docutils literal notranslate"><span class="pre">cloud</span></code>, that each set different process
configuration strategies depending on the target runtime platform. The <code class="docutils literal notranslate"><span class="pre">standard</span></code> profile is used by default when no profile is specified.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Multiple configuration profiles can be specified by separating the profile names with a comma, for example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>nextflow<span class="w"> </span>run<span class="w"> </span>&lt;your<span class="w"> </span>script&gt;<span class="w"> </span>-profile<span class="w"> </span>standard,cloud
</pre></div>
</div>
</div>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>When using the <code class="docutils literal notranslate"><span class="pre">profiles</span></code> feature in your config file, do NOT set attributes in the same scope both inside and outside a <code class="docutils literal notranslate"><span class="pre">profiles</span></code> context. For example:</p>
<div class="highlight-groovy notranslate"><div class="highlight"><pre><span></span><span class="n">process</span><span class="o">.</span><span class="na">cpus</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>

<span class="n">profiles</span><span class="w"> </span><span class="o">{</span>
<span class="w">  </span><span class="n">foo</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">process</span><span class="o">.</span><span class="na">memory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;2 GB&#39;</span>
<span class="w">  </span><span class="o">}</span>

<span class="w">  </span><span class="n">bar</span><span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="n">process</span><span class="o">.</span><span class="na">memory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;4 GB&#39;</span>
<span class="w">  </span><span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>In the above example, the <code class="docutils literal notranslate"><span class="pre">process.cpus</span></code> attribute is not correctly applied because the <code class="docutils literal notranslate"><span class="pre">process</span></code> scope is also used in the <code class="docutils literal notranslate"><span class="pre">foo</span></code> and <code class="docutils literal notranslate"><span class="pre">bar</span></code> profiles.</p>
</div>
</section>
<section id="environment-variables">
<span id="config-env-vars"></span><h2>Environment variables<a class="headerlink" href="#environment-variables" title="Permalink to this heading"></a></h2>
<p>The following environment variables control the configuration of the Nextflow runtime and the underlying Java virtual machine.</p>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">NXF_ANSI_LOG</span></code></dt><dd><p>Enables/disables ANSI console output (default <code class="docutils literal notranslate"><span class="pre">true</span></code> when ANSI terminal is detected).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NXF_ANSI_SUMMARY</span></code></dt><dd><p>Enables/disables ANSI completion summary: <code class="docutils literal notranslate"><span class="pre">true\|false</span></code> (default: print summary if execution last more than 1 minute).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NXF_ASSETS</span></code></dt><dd><p>Defines the directory where downloaded pipeline repositories are stored (default: <code class="docutils literal notranslate"><span class="pre">$NXF_HOME/assets</span></code>)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NXF_CLOUDCACHE_PATH</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 23.07.0-edge.</span></p>
</div>
</dd>
<dd><p>Defines the base cache path when using the cloud cache store.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NXF_CHARLIECLOUD_CACHEDIR</span></code></dt><dd><p>Directory where remote Charliecloud images are stored. When using a computing cluster it must be a shared folder accessible from all compute nodes.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NXF_CLASSPATH</span></code></dt><dd><p>Allows the extension of the Java runtime classpath with extra JAR files or class folders.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NXF_CLOUD_DRIVER</span></code></dt><dd><p>Defines the default cloud driver to be used if not specified in the config file or as command line option, either <code class="docutils literal notranslate"><span class="pre">aws</span></code> or <code class="docutils literal notranslate"><span class="pre">google</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NXF_CONDA_CACHEDIR</span></code></dt><dd><p>Directory where Conda environments are stored. When using a computing cluster it must be a shared folder accessible from all compute nodes.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NXF_CONDA_ENABLED</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 22.08.0-edge.</span></p>
</div>
</dd>
<dd><p>Enable the use of Conda recipes defined by using the <a class="reference internal" href="process.html#process-conda"><span class="std std-ref">conda</span></a> directive. (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NXF_DEFAULT_DSL</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 22.03.0-edge.</span></p>
</div>
</dd>
<dd><p>Defines the DSL version that should be used in not specified otherwise in the script of config file (default: <code class="docutils literal notranslate"><span class="pre">2</span></code>)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NXF_DISABLE_CHECK_LATEST</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 23.09.0-edge.</span></p>
</div>
</dd>
<dd><p>Nextflow automatically checks for a newer version of itself unless this option is enabled (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NXF_DISABLE_JOBS_CANCELLATION</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 21.12.0-edge.</span></p>
</div>
</dd>
<dd><p>Disables the cancellation of child jobs on workflow execution termination.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NXF_DISABLE_PARAMS_TYPE_DETECTION</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 23.07.0-edge.</span></p>
</div>
</dd>
<dd><p>Disables the automatic type detection of command line parameters.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NXF_DISABLE_WAVE_SERVICE</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 23.08.0-edge.</span></p>
</div>
</dd>
<dd><p>Disables the requirement for Wave service when enabling the Fusion file system.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NXF_ENABLE_AWS_SES</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 23.06.0-edge.</span></p>
</div>
</dd>
<dd><p>Enable to use of AWS SES native API for sending emails in place of legacy SMTP settings (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NXF_ENABLE_FS_SYNC</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 23.10.0.</span></p>
</div>
</dd>
<dd><p>When enabled the job script will execute Linux <code class="docutils literal notranslate"><span class="pre">sync</span></code> command on job completion. This may be useful to synchronize the job state over shared file systems (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NXF_ENABLE_SECRETS</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 21.09.0-edge.</span></p>
</div>
</dd>
<dd><p>Enable Nextflow secrets features (default: <code class="docutils literal notranslate"><span class="pre">true</span></code>)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NXF_ENABLE_STRICT</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 22.05.0-edge.</span></p>
</div>
</dd>
<dd><p>Enable Nextflow <em>strict</em> execution mode (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NXF_EXECUTOR</span></code></dt><dd><p>Defines the default process executor e.g. <code class="docutils literal notranslate"><span class="pre">sge</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NXF_FILE_ROOT</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 23.05.0-edge.</span></p>
</div>
</dd>
<dd><p>The file storage path against which relative file paths are resolved.</p>
</dd>
<dd><p>For example, with <code class="docutils literal notranslate"><span class="pre">NXF_FILE_ROOT=/some/root/path</span></code>, the use of <code class="docutils literal notranslate"><span class="pre">file('foo')</span></code> will be resolved to the absolute path <code class="docutils literal notranslate"><span class="pre">/some/root/path/foo</span></code>. A remote root path can be specified using the usual protocol prefix, e.g. <code class="docutils literal notranslate"><span class="pre">NXF_FILE_ROOT=s3://my-bucket/data</span></code>. Files defined using an absolute path are not affected by this setting.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NXF_HOME</span></code></dt><dd><p>Nextflow home directory (default: <code class="docutils literal notranslate"><span class="pre">$HOME/.nextflow</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NXF_JAVA_HOME</span></code></dt><dd><p>Defines the path location of the Java VM installation used to run Nextflow. This variable overrides the <code class="docutils literal notranslate"><span class="pre">JAVA_HOME</span></code> variable if defined.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NXF_JVM_ARGS</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 21.12.1-edge.</span></p>
</div>
</dd>
<dd><p>Allows the setting Java VM options. This is similar to <code class="docutils literal notranslate"><span class="pre">NXF_OPTS</span></code> however it’s only applied the JVM running Nextflow and not to any java pre-launching commands.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NXF_OFFLINE</span></code></dt><dd><p>When <code class="docutils literal notranslate"><span class="pre">true</span></code> prevents Nextflow from automatically downloading and updating remote project repositories (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
<dd><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 23.09.0-edge: </span>This option also disables the automatic version check (see <code class="docutils literal notranslate"><span class="pre">NXF_DISABLE_CHECK_LATEST</span></code>).</p>
</div>
</dd>
<dd><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 23.11.0-edge: </span>This option also prevents plugins from being downloaded. Plugin versions must be specified in offline mode, or else Nextflow will fail.</p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NXF_OPTS</span></code></dt><dd><p>Provides extra options for the Java and Nextflow runtime. It must be a blank separated list of <code class="docutils literal notranslate"><span class="pre">-Dkey[=value]</span></code> properties.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NXF_ORG</span></code></dt><dd><p>Default <code class="docutils literal notranslate"><span class="pre">organization</span></code> prefix when looking for a hosted repository (default: <code class="docutils literal notranslate"><span class="pre">nextflow-io</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NXF_PARAMS_FILE</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 20.10.0.</span></p>
</div>
</dd>
<dd><p>Defines the path location of the pipeline parameters file .</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NXF_PID_FILE</span></code></dt><dd><p>Name of the file where the process PID is saved when Nextflow is launched in background.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NXF_PLUGINS_DEFAULT</span></code></dt><dd><p>Whether to use the default plugins when no plugins are specified in the Nextflow configuration (default: <code class="docutils literal notranslate"><span class="pre">true</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NXF_PLUGINS_DIR</span></code></dt><dd><p>The path where the plugin archives are loaded and stored (default: <code class="docutils literal notranslate"><span class="pre">$NXF_HOME/plugins</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NXF_PLUGINS_TEST_REPOSITORY</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 23.04.0.</span></p>
</div>
</dd>
<dd><p>Defines a custom plugin registry or plugin release URL for testing plugins outside of the main registry. See <a class="reference internal" href="plugins.html#testing-plugins"><span class="std std-ref">Testing plugins</span></a> for more information.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NXF_SCM_FILE</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 20.10.0.</span></p>
</div>
</dd>
<dd><p>Defines the path location of the SCM config file .</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NXF_SINGULARITY_CACHEDIR</span></code></dt><dd><p>Directory where remote Singularity images are stored. When using a computing cluster it must be a shared folder accessible from all compute nodes.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NXF_SINGULARITY_LIBRARYDIR</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 21.09.0-edge.</span></p>
</div>
</dd>
<dd><p>Directory where remote Singularity images are retrieved. It should be a directory accessible to all compute nodes.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NXF_SPACK_CACHEDIR</span></code></dt><dd><p>Directory where Spack environments are stored. When using a computing cluster it must be a shared folder accessible from all compute nodes.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NXF_SPACK_ENABLED</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 23.02.0-edge.</span></p>
</div>
</dd>
<dd><p>Enable the use of Spack recipes defined by using the <a class="reference internal" href="process.html#process-spack"><span class="std std-ref">spack</span></a> directive. (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NXF_TEMP</span></code></dt><dd><p>Directory where temporary files are stored</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NXF_VER</span></code></dt><dd><p>Defines which version of Nextflow to use.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NXF_WORK</span></code></dt><dd><p>Directory where working files are stored (usually your <em>scratch</em> directory)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NXF_WRAPPER_STAGE_FILE_THRESHOLD</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 23.05.0-edge.</span></p>
</div>
</dd>
<dd><p>Defines the minimum size of the <code class="docutils literal notranslate"><span class="pre">.command.run</span></code> staging script for it to be written to a separate <code class="docutils literal notranslate"><span class="pre">.command.stage</span></code> file (default: <code class="docutils literal notranslate"><span class="pre">'1</span> <span class="pre">MB'</span></code>).</p>
</dd>
<dd><p>This setting is useful for executors that impose a size limit on job scripts.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">JAVA_HOME</span></code></dt><dd><p>Defines the path location of the Java VM installation used to run Nextflow.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">JAVA_CMD</span></code></dt><dd><p>Defines the path location of the Java binary command used to launch Nextflow.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">HTTP_PROXY</span></code></dt><dd><p>Defines the HTTP proxy server.</p>
</dd>
<dd><div class="versionadded">
<p><span class="versionmodified added">New in version 21.06.0-edge: </span>Proxy authentication is supported by providing the credentials in the proxy URL, e.g. <code class="docutils literal notranslate"><span class="pre">http://user:password&#64;proxy-host.com:port</span></code>.</p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">HTTPS_PROXY</span></code></dt><dd><p>Defines the HTTPS proxy server.</p>
</dd>
<dd><div class="versionadded">
<p><span class="versionmodified added">New in version 21.06.0-edge: </span>Proxy authentication is supported by providing the credentials in the proxy URL, e.g. <code class="docutils literal notranslate"><span class="pre">https://user:password&#64;proxy-host.com:port</span></code>.</p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">FTP_PROXY</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 21.06.0-edge.</span></p>
</div>
</dd>
<dd><p>Defines the FTP proxy server. Proxy authentication is supported by providing the credentials in the proxy URL, e.g. <code class="docutils literal notranslate"><span class="pre">ftp://user:password&#64;proxy-host.com:port</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">NO_PROXY</span></code></dt><dd><p>Defines one or more host names that should not use the proxy server. Separate multiple names using a comma character.</p>
</dd>
</dl>
</section>
<section id="feature-flags">
<span id="config-feature-flags"></span><h2>Feature flags<a class="headerlink" href="#feature-flags" title="Permalink to this heading"></a></h2>
<p>Some features can be enabled using the <code class="docutils literal notranslate"><span class="pre">nextflow.enable</span></code> and <code class="docutils literal notranslate"><span class="pre">nextflow.preview</span></code> flags. These flags can be specified in the pipeline script or the configuration file, and they are generally used to introduce experimental or other opt-in features.</p>
<dl class="simple myst">
<dt><code class="docutils literal notranslate"><span class="pre">nextflow.enable.configProcessNamesValidation</span></code></dt><dd><p>When <code class="docutils literal notranslate"><span class="pre">true</span></code>, prints a warning for every <code class="docutils literal notranslate"><span class="pre">withName:</span></code> process selector that doesn’t match a process in the pipeline (default: <code class="docutils literal notranslate"><span class="pre">true</span></code>).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">nextflow.enable.dsl</span></code></dt><dd><p>Defines the DSL version to use (<code class="docutils literal notranslate"><span class="pre">1</span></code> or <code class="docutils literal notranslate"><span class="pre">2</span></code>).</p>
</dd>
<dd><div class="versionadded">
<p><span class="versionmodified added">New in version 22.03.0-edge: </span>DSL2 is the default DSL version.</p>
</div>
</dd>
<dd><div class="versionadded">
<p><span class="versionmodified added">New in version 22.12.0-edge: </span>DSL1 is no longer supported.</p>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">nextflow.enable.moduleBinaries</span></code></dt><dd><p>When <code class="docutils literal notranslate"><span class="pre">true</span></code>, enables the use of modules with binary scripts. See <a class="reference internal" href="module.html#module-binaries"><span class="std std-ref">Module binaries</span></a> for more information.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">nextflow.enable.strict</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 22.05.0-edge.</span></p>
</div>
</dd>
<dd><p>When <code class="docutils literal notranslate"><span class="pre">true</span></code>, the pipeline is executed in “strict” mode, which introduces the following rules:</p>
<ul class="simple">
<li><p>When reading a params file, Nextflow will fail if a dynamic param value references an undefined variable</p></li>
<li><p>When merging params from a config file with params from the command line, Nextflow will fail if a param is specified from both sources but with different types</p></li>
<li><p>When using the <code class="docutils literal notranslate"><span class="pre">join</span></code> operator, the <code class="docutils literal notranslate"><span class="pre">failOnDuplicate</span></code> option is <code class="docutils literal notranslate"><span class="pre">true</span></code> regardless of any user setting</p></li>
<li><p>When using the <code class="docutils literal notranslate"><span class="pre">join</span></code> operator, the <code class="docutils literal notranslate"><span class="pre">failOnMismatch</span></code> option is <code class="docutils literal notranslate"><span class="pre">true</span></code> (unless <code class="docutils literal notranslate"><span class="pre">remainder</span></code> is also <code class="docutils literal notranslate"><span class="pre">true</span></code>) regardless of any user setting</p></li>
<li><p>When using the <code class="docutils literal notranslate"><span class="pre">publishDir</span></code> process directive, the <code class="docutils literal notranslate"><span class="pre">failOnError</span></code> option is <code class="docutils literal notranslate"><span class="pre">true</span></code> regardless of any user setting</p></li>
<li><p>In a process definition, Nextflow will fail if an input or output tuple has only one element</p></li>
<li><p>In a process definition, Nextflow will fail if an output emit name is not a valid identifier (i.e. it should match the pattern <code class="docutils literal notranslate"><span class="pre">/[A-Za-z_][A-Za-z0-9_]*/</span></code>)</p></li>
<li><p>During a process execution, Nextflow will fail if a received input tuple does not have the same number of elements as was declared</p></li>
<li><p>During a process execution, Nextflow will fail if the <code class="docutils literal notranslate"><span class="pre">storeDir</span></code> directive is used with non-file outputs</p></li>
<li><p>Nextflow will fail if a pipeline param is referenced before it is defined</p></li>
<li><p>Nextflow will fail if multiple functions and/or processes with the same name are defined in a module script</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">nextflow.preview.recursion</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 21.11.0-edge.</span></p>
</div>
</dd>
<dd><p><em>Experimental: may change in a future release.</em></p>
</dd>
<dd><p>When <code class="docutils literal notranslate"><span class="pre">true</span></code>, enables process and workflow recursion. See <a class="reference external" href="https://github.com/nextflow-io/nextflow/discussions/2521">this GitHub discussion</a> for more information.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">nextflow.preview.topic</span></code></dt><dd><div class="versionadded">
<p><span class="versionmodified added">New in version 23.11.0-edge.</span></p>
</div>
</dd>
<dd><p><em>Experimental: may change in a future release.</em></p>
</dd>
<dd><p>When <code class="docutils literal notranslate"><span class="pre">true</span></code>, enables <span class="xref std std-ref">topic channels</span> feature.</p>
</dd>
</dl>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="module.html" class="btn btn-neutral float-left" title="Modules" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="dsl1.html" class="btn btn-neutral float-right" title="Migrating from DSL 1" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Seqera Labs, S.L.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
     
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TNCXSWG"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->


</body>
</html>