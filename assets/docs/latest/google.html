<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Google Cloud &mdash; Nextflow 22.10.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/theme.css" type="text/css" />
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Apache Ignite" href="ignite.html" />
    <link rel="prev" title="Azure Cloud" href="azure.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html">
            <img src="_static/nextflow-logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div>
    <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getstarted.html">Get started</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic.html">Basic concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="script.html">Nextflow scripting</a></li>
<li class="toctree-l1"><a class="reference internal" href="process.html">Processes</a></li>
<li class="toctree-l1"><a class="reference internal" href="channel.html">Channels</a></li>
<li class="toctree-l1"><a class="reference internal" href="operator.html">Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="executor.html">Executors</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="dsl2.html">DSL 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="cli.html">Command line interface (CLI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="container.html">Containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="wave.html">Wave containers</a></li>
<li class="toctree-l1"><a class="reference internal" href="fusion.html">Fusion file system</a></li>
<li class="toctree-l1"><a class="reference internal" href="conda.html">Conda environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="aws.html">Amazon Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="amazons3.html">Amazon S3 storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="azure.html">Azure Cloud</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Google Cloud</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#credentials">Credentials</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cloud-batch">Cloud Batch</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#requirements">Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configuration">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#process-definition">Process definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pipeline-execution">Pipeline execution</a></li>
<li class="toctree-l3"><a class="reference internal" href="#spot-instances">Spot instances</a></li>
<li class="toctree-l3"><a class="reference internal" href="#supported-directives">Supported directives</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#cloud-life-sciences">Cloud Life Sciences</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#google-lifesciences-config">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id8">Process definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id11">Pipeline execution</a></li>
<li class="toctree-l3"><a class="reference internal" href="#preemptible-instances">Preemptible instances</a></li>
<li class="toctree-l3"><a class="reference internal" href="#hybrid-execution">Hybrid execution</a></li>
<li class="toctree-l3"><a class="reference internal" href="#quotas">Quotas</a></li>
<li class="toctree-l3"><a class="reference internal" href="#limitations">Limitations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ignite.html">Apache Ignite</a></li>
<li class="toctree-l1"><a class="reference internal" href="kubernetes.html">Kubernetes</a></li>
<li class="toctree-l1"><a class="reference internal" href="tracing.html">Tracing &amp; visualisation</a></li>
<li class="toctree-l1"><a class="reference internal" href="metrics.html">Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="sharing.html">Pipeline sharing</a></li>
<li class="toctree-l1"><a class="reference internal" href="metadata.html">Workflow introspection</a></li>
<li class="toctree-l1"><a class="reference internal" href="mail.html">Mail &amp; Notifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="plugins.html">Plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="secrets.html">Secrets</a></li>
</ul>

        </div>
    <div class="nav-footer-logo">
        <a href="https://seqera.io/" target="_blank" title="Developed by Seqera Labs">
            Nextflow is developed by:<br>
            <img src="_static/seqera-logo.png" alt="Seqera Labs">
        </a>
    </div>

      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Nextflow</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Google Cloud</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/nextflow-io/nextflow/blob/master/docs/google.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="google-cloud">
<span id="google-page"></span><h1>Google Cloud<a class="headerlink" href="#google-cloud" title="Permalink to this headline"></a></h1>
<section id="credentials">
<h2>Credentials<a class="headerlink" href="#credentials" title="Permalink to this headline"></a></h2>
<p>Credentials for submitting requests to the Google Cloud Batch and Cloud LifeSciences API are picked up from your
environment using <a class="reference external" href="https://github.com/googleapis/google-auth-library-java#google-auth-library-oauth2-http">Application Default Credentials</a>.
Application Default Credentials are designed to use the credentials most natural to the
environment in which a tool runs.</p>
<p>The most common case will be to pick up your end-user Google credentials from your
workstation. You can create these by running the command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gcloud</span> <span class="n">auth</span> <span class="n">application</span><span class="o">-</span><span class="n">default</span> <span class="n">login</span>
</pre></div>
</div>
<p>and running through the authentication flow. This will write a credential file to your gcloud
configuration directory that will be used for any tool you run on your workstation that
picks up default credentials.</p>
<p>The next most common case would be when running on a Compute Engine VM. In this case,
Application Default Credentials will pick up the Compute Engine Service Account
credentials for that VM.</p>
<p>See the <a class="reference external" href="https://github.com/googleapis/google-auth-library-java#google-auth-library-oauth2-http">Application Default Credentials</a> documentation for how to enable other use cases.</p>
<p>Finally, the <code class="docutils literal notranslate"><span class="pre">GOOGLE_APPLICATION_CREDENTIALS</span></code> environment variable can be used to specify location
of the Google credentials file.</p>
<p>If you don’t have it, the credentials file can be download from the Google Cloud Console following these steps:</p>
<ul class="simple">
<li><p>Open the <a class="reference external" href="https://console.cloud.google.com">Google Cloud Console</a></p></li>
<li><p>Go to APIs &amp; Services → Credentials</p></li>
<li><p>Click on the <em>Create credentials</em> (blue) drop-down and choose <em>Service account key</em>, in the following page</p></li>
<li><p>Select an existing <em>Service account</em> or create a new one if needed</p></li>
<li><p>Select JSON as <em>Key type</em></p></li>
<li><p>Click the <em>Create</em> button and download the JSON file giving a name of your choice e.g. <code class="docutils literal notranslate"><span class="pre">creds.json</span></code>.</p></li>
</ul>
<p>Then, define the following variable replacing the path in the example with the one of your
credentials file just downloaded:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">GOOGLE_APPLICATION_CREDENTIALS</span><span class="o">=/</span><span class="n">path</span><span class="o">/</span><span class="n">your</span><span class="o">/</span><span class="n">file</span><span class="o">/</span><span class="n">creds</span><span class="o">.</span><span class="n">json</span>
</pre></div>
</div>
</section>
<section id="cloud-batch">
<span id="google-batch"></span><h2>Cloud Batch<a class="headerlink" href="#cloud-batch" title="Permalink to this headline"></a></h2>
<p><a class="reference external" href="https://cloud.google.com/batch">Google Cloud Batch</a> is a managed computing service that allows the execution of containerized workloads in the
Google Cloud Platform infrastructure.</p>
<p>Nextflow provides built-in support for Cloud Batch which allows the seamless deployment of a Nextflow pipeline
in the cloud, offloading the process executions through the Google Cloud service.</p>
<section id="requirements">
<h3>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline"></a></h3>
<p>The support for Google Batch requires Nextflow version <code class="docutils literal notranslate"><span class="pre">22.07.1-edge</span></code> or later. If you have already Nextflow
installed make sure to update to the latest <cite>edge</cite> release using these commands:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">NXF_EDGE</span><span class="o">=</span><span class="mi">1</span>
<span class="n">nextflow</span> <span class="o">-</span><span class="bp">self</span><span class="o">-</span><span class="n">update</span>
</pre></div>
</div>
<p>If you don’t have Nextflow, install it with command below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">curl</span> <span class="n">get</span><span class="o">.</span><span class="n">nextflow</span><span class="o">.</span><span class="n">io</span> <span class="o">|</span> <span class="n">bash</span>
</pre></div>
</div>
<p>when done, make sure to use the latest <cite>edge</cite> release running the snippet in the previous paragraph.</p>
</section>
<section id="configuration">
<span id="google-batch-config"></span><h3>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline"></a></h3>
<p>Make sure to have defined in your environment the <code class="docutils literal notranslate"><span class="pre">GOOGLE_APPLICATION_CREDENTIALS</span></code> variable.
See the section <a class="reference internal" href="#credentials">Credentials</a> for details.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Make sure your Google account is allowed to access the Google Cloud Batch service by checking
the <a class="reference external" href="https://console.cloud.google.com/apis/dashboard">APIs &amp; Services</a> dashboard.</p>
</div>
<p>Create or edit the file <code class="docutils literal notranslate"><span class="pre">nextflow.config</span></code> in your project root directory. The config must specify the following parameters:</p>
<ul class="simple">
<li><p>Google Cloud Batch as Nextflow executor i.e. <code class="docutils literal notranslate"><span class="pre">process.executor</span> <span class="pre">=</span> <span class="pre">'google-batch'</span></code>.</p></li>
<li><p>The Docker container image to be used to run pipeline tasks e.g. <code class="docutils literal notranslate"><span class="pre">process.container</span> <span class="pre">=</span> <span class="pre">'biocontainers/salmon:0.8.2--1'</span></code>.</p></li>
<li><p>The Google Cloud <cite>project</cite> ID to run in e.g. <code class="docutils literal notranslate"><span class="pre">google.project</span> <span class="pre">=</span> <span class="pre">'rare-lattice-222412'</span></code>.</p></li>
<li><p>The Google location e.g. <code class="docutils literal notranslate"><span class="pre">google.location</span> <span class="pre">=</span> <span class="pre">'us-central1'</span></code>.</p></li>
</ul>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">process</span> <span class="p">{</span>
    <span class="n">executor</span> <span class="o">=</span> <span class="s1">&#39;google-batch&#39;</span>
    <span class="n">container</span> <span class="o">=</span> <span class="s1">&#39;your/container:latest&#39;</span>
<span class="p">}</span>

<span class="n">google</span> <span class="p">{</span>
    <span class="n">project</span> <span class="o">=</span> <span class="s1">&#39;your-project-id&#39;</span>
    <span class="n">location</span> <span class="o">=</span> <span class="s1">&#39;us-central1&#39;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Make sure to specify the project ID, not the project name.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Make sure to specify a location where Google Batch is available. Refer to the
<a class="reference external" href="https://cloud.google.com/batch/docs/get-started#locations">Google Batch documentation</a>
for region availability.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A container image must be specified to deploy the process execution. You can use a different Docker image for
each process using one or more <a class="reference internal" href="config.html#config-process-selectors"><span class="std std-ref">Process selectors</span></a>.</p>
</div>
<p>The following configuration options are available:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 13%" />
<col style="width: 87%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>google.project</p></td>
<td><p>The Google Project Id to use for the pipeline execution.</p></td>
</tr>
<tr class="row-odd"><td><p>google.location</p></td>
<td><p>The Google <em>location</em> where the job executions are deployed (default: <code class="docutils literal notranslate"><span class="pre">us-central1</span></code>).</p></td>
</tr>
<tr class="row-even"><td><p>google.enableRequesterPaysBuckets</p></td>
<td><p>When <code class="docutils literal notranslate"><span class="pre">true</span></code> uses the configured Google project id as the billing project for storage access. This is required when accessing data from <em>requester pays enabled</em> buckets. See <a class="reference external" href="https://cloud.google.com/storage/docs/requester-pays">Requester Pays on Google Cloud Storage documentation</a> (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p></td>
</tr>
<tr class="row-odd"><td><p>google.batch.bootDiskSize</p></td>
<td><p>Set the size of the virtual machine boot disk, e.g <code class="docutils literal notranslate"><span class="pre">50.GB</span></code> (default: none).</p></td>
</tr>
<tr class="row-even"><td><p>google.batch.cpuPlatform</p></td>
<td><p>Set the minimum CPU Platform, e.g. <code class="docutils literal notranslate"><span class="pre">'Intel</span> <span class="pre">Skylake'</span></code>. See <a class="reference external" href="https://cloud.google.com/compute/docs/instances/specify-min-cpu-platform#specifications">Specifying a minimum CPU Platform for VM instances</a> (default: none).</p></td>
</tr>
<tr class="row-odd"><td><p>google.batch.spot</p></td>
<td><p>When <code class="docutils literal notranslate"><span class="pre">true</span></code> enables the usage of <em>spot</em> virtual machines or <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p></td>
</tr>
<tr class="row-even"><td><p>google.batch.usePrivateAddress</p></td>
<td><p>When <code class="docutils literal notranslate"><span class="pre">true</span></code> the VM will NOT be provided with a public IP address, and only contain an internal IP. If this option is enabled, the associated job can only load docker images from Google Container Registry, and the job executable cannot use external services other than Google APIs (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p></td>
</tr>
<tr class="row-odd"><td><p>google.batch.network</p></td>
<td><p>Set network name to attach the VM’s network interface to. The value will be prefixed with global/networks/ unless it contains a /, in which case it is assumed to be a fully specified network resource URL. If unspecified, the global default network is used.</p></td>
</tr>
<tr class="row-even"><td><p>google.batch.serviceAccountEmail</p></td>
<td><p>Define the Google service account email to use for the pipeline execution. If not specified, the default Compute Engine service account for the project will be used.</p></td>
</tr>
<tr class="row-odd"><td><p>google.batch.subnetwork</p></td>
<td><p>Define the name of the subnetwork to attach the instance to must be specified here, when the specified network is configured for custom subnet creation. The value is prefixed with <cite>regions/subnetworks/</cite> unless it contains a <cite>/</cite>, in which case it is assumed to be a fully specified subnetwork resource URL.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="process-definition">
<h3>Process definition<a class="headerlink" href="#process-definition" title="Permalink to this headline"></a></h3>
<p>Processes can be defined as usual and by default the <code class="docutils literal notranslate"><span class="pre">cpus</span></code> and <code class="docutils literal notranslate"><span class="pre">memory</span></code> directives are used to instantiate a custom
machine type with the specified compute resources.  If <code class="docutils literal notranslate"><span class="pre">memory</span></code> is not specified, 1GB of memory is allocated per cpu.</p>
<p>The process <code class="docutils literal notranslate"><span class="pre">machineType</span></code> directive may optionally be used to specify a predefined Google Compute Platform <a class="reference external" href="https://cloud.google.com/compute/docs/machine-types">machine type</a>
If specified, this value overrides the <code class="docutils literal notranslate"><span class="pre">cpus</span></code> and <code class="docutils literal notranslate"><span class="pre">memory</span></code> directives.
If the <code class="docutils literal notranslate"><span class="pre">cpus</span></code> and <code class="docutils literal notranslate"><span class="pre">memory</span></code> directives are used, the values must comply with the allowed custom machine type <a class="reference external" href="https://cloud.google.com/compute/docs/instances/creating-instance-with-custom-machine-type#specifications">specifications</a> .  Extended memory is not directly supported, however high memory or cpu predefined
instances may be utilized using the <code class="docutils literal notranslate"><span class="pre">machineType</span></code> directive</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">process</span> <span class="n">custom_resources_task</span> <span class="p">{</span>
    <span class="n">cpus</span> <span class="mi">8</span>
    <span class="n">memory</span> <span class="s1">&#39;40 GB&#39;</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    &lt;Your script here&gt;</span>
<span class="sd">    &quot;&quot;&quot;</span>
<span class="p">}</span>

<span class="n">process</span> <span class="n">predefined_resources_task</span> <span class="p">{</span>
    <span class="n">machineType</span> <span class="s1">&#39;n1-highmem-8&#39;</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    &lt;Your script here&gt;</span>
<span class="sd">    &quot;&quot;&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="pipeline-execution">
<h3>Pipeline execution<a class="headerlink" href="#pipeline-execution" title="Permalink to this headline"></a></h3>
<p>The pipeline can be launched either in a local computer or a cloud instance. Pipeline input data can be stored either
locally or in a Google Storage bucket.</p>
<p>The pipeline execution must specify a Google Storage bucket where the workflow’s intermediate results are stored using
the <code class="docutils literal notranslate"><span class="pre">-work-dir</span></code> command line options. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">nextflow</span> <span class="n">run</span> <span class="o">&lt;</span><span class="n">script</span> <span class="ow">or</span> <span class="n">project</span> <span class="n">name</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">work</span><span class="o">-</span><span class="nb">dir</span> <span class="n">gs</span><span class="p">:</span><span class="o">//</span><span class="n">my</span><span class="o">-</span><span class="n">bucket</span><span class="o">/</span><span class="n">some</span><span class="o">/</span><span class="n">path</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Any input data <strong>not</strong> stored in a Google Storage bucket will automatically be transferred to the
pipeline work bucket. Use this feature with caution being careful to avoid unnecessary data transfers.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The Google Storage path needs to contain at least sub-directory. Don’t use only the bucket name e.g. <code class="docutils literal notranslate"><span class="pre">gs://my-bucket</span></code>.</p>
</div>
</section>
<section id="spot-instances">
<h3>Spot instances<a class="headerlink" href="#spot-instances" title="Permalink to this headline"></a></h3>
<p>Spot instances are supported adding the following setting in the Nextflow config file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">google</span> <span class="p">{</span>
    <span class="n">batch</span><span class="o">.</span><span class="n">spot</span> <span class="o">=</span> <span class="n">true</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Since this type of virtual machines can be retired by the provider before the job completion, it is advisable
to add the following retry strategy to your config file to instruct Nextflow to automatically re-execute a job
if the virtual machine was terminated preemptively:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>process {
    errorStrategy = { task.exitStatus==14 ? &#39;retry&#39; : &#39;terminate&#39; }
    maxRetries = 5
}
</pre></div>
</div>
</section>
<section id="supported-directives">
<h3>Supported directives<a class="headerlink" href="#supported-directives" title="Permalink to this headline"></a></h3>
<p>The integration with Google Batch is a developer preview feature. Currently the following Nextflow directives are
supported:</p>
<ul class="simple">
<li><p><a class="reference internal" href="process.html#process-accelerator"><span class="std std-ref">accelerator</span></a></p></li>
<li><p><a class="reference internal" href="process.html#process-container"><span class="std std-ref">container</span></a></p></li>
<li><p><a class="reference internal" href="process.html#process-containeroptions"><span class="std std-ref">containerOptions</span></a></p></li>
<li><p><a class="reference internal" href="process.html#process-cpus"><span class="std std-ref">cpus</span></a></p></li>
<li><p><a class="reference internal" href="process.html#process-disk"><span class="std std-ref">disk</span></a></p></li>
<li><p><a class="reference internal" href="process.html#process-executor"><span class="std std-ref">executor</span></a></p></li>
<li><p><a class="reference internal" href="process.html#process-machinetype"><span class="std std-ref">machineType</span></a></p></li>
<li><p><a class="reference internal" href="process.html#process-memory"><span class="std std-ref">memory</span></a></p></li>
<li><p><a class="reference internal" href="process.html#process-time"><span class="std std-ref">time</span></a></p></li>
</ul>
</section>
</section>
<section id="cloud-life-sciences">
<span id="google-lifesciences"></span><h2>Cloud Life Sciences<a class="headerlink" href="#cloud-life-sciences" title="Permalink to this headline"></a></h2>
<section id="id2">
<h3>Requirements<a class="headerlink" href="#id2" title="Permalink to this headline"></a></h3>
<p>The support for Google Cloud requires Nextflow version <code class="docutils literal notranslate"><span class="pre">20.01.0</span></code> or later. To install it define the following variables
in your system environment:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">NXF_VER</span><span class="o">=</span><span class="mf">20.01.0</span>
<span class="n">export</span> <span class="n">NXF_MODE</span><span class="o">=</span><span class="n">google</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As of version <code class="docutils literal notranslate"><span class="pre">21.04.0</span></code> or later the above variables are not required anymore and therefore should not be used.</p>
</div>
<p><a class="reference external" href="https://cloud.google.com/life-sciences/">Cloud Life Sciences</a> is a managed computing service that allows the execution of
containerized workloads in the Google Cloud Platform infrastructure.</p>
<p>Nextflow provides built-in support for Cloud Life Sciences API which allows the seamless deployment of a Nextflow pipeline
in the cloud, offloading the process executions through the Google Cloud service.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This features requires Nextflow <code class="docutils literal notranslate"><span class="pre">20.01.0-edge</span></code> or later.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This API works well for coarse-grained workloads i.e. long running jobs. It’s not suggested the use
this feature for pipelines spawning many short lived tasks.</p>
</div>
</section>
<section id="google-lifesciences-config">
<span id="id4"></span><h3>Configuration<a class="headerlink" href="#google-lifesciences-config" title="Permalink to this headline"></a></h3>
<p>Make sure to have defined in your environment the <code class="docutils literal notranslate"><span class="pre">GOOGLE_APPLICATION_CREDENTIALS</span></code> variable.
See the section <a class="reference internal" href="#credentials">Credentials</a> for details.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Make sure to have enabled Cloud Life Sciences API to use this feature. To learn how to enable it
follow <a class="reference external" href="https://cloud.google.com/life-sciences/docs/quickstart">this link</a>.</p>
</div>
<p>Create a <code class="docutils literal notranslate"><span class="pre">nextflow.config</span></code> file in the project root directory. The config must specify the following parameters:</p>
<ul class="simple">
<li><p>Google Life Sciences as Nextflow executor i.e. <code class="docutils literal notranslate"><span class="pre">process.executor</span> <span class="pre">=</span> <span class="pre">'google-lifesciences'</span></code>.</p></li>
<li><p>The Docker container image to be used to run pipeline tasks e.g. <code class="docutils literal notranslate"><span class="pre">process.container</span> <span class="pre">=</span> <span class="pre">'biocontainers/salmon:0.8.2--1'</span></code>.</p></li>
<li><p>The Google Cloud <cite>project</cite> ID to run in e.g. <code class="docutils literal notranslate"><span class="pre">google.project</span> <span class="pre">=</span> <span class="pre">'rare-lattice-222412'</span></code>.</p></li>
<li><p>The Google Cloud <cite>region</cite> or <cite>zone</cite>. This is where the Compute Engine VMs will be started.
You need to specify either one, <strong>not</strong> both. Multiple regions or zones can be specified by
separating them with a comma e.g. <code class="docutils literal notranslate"><span class="pre">google.zone</span> <span class="pre">=</span> <span class="pre">'us-central1-f,us-central-1-b'</span></code>.</p></li>
</ul>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">process</span> <span class="p">{</span>
    <span class="n">executor</span> <span class="o">=</span> <span class="s1">&#39;google-lifesciences&#39;</span>
    <span class="n">container</span> <span class="o">=</span> <span class="s1">&#39;your/container:latest&#39;</span>
<span class="p">}</span>

<span class="n">google</span> <span class="p">{</span>
    <span class="n">project</span> <span class="o">=</span> <span class="s1">&#39;your-project-id&#39;</span>
    <span class="n">zone</span> <span class="o">=</span> <span class="s1">&#39;europe-west1-b&#39;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Make sure to specify in the above setting the project ID not the project name.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A container image must be specified to deploy the process execution. You can use a different Docker image for
each process using one or more <a class="reference internal" href="config.html#config-process-selectors"><span class="std std-ref">Process selectors</span></a>.</p>
</div>
<p>The following configuration options are available:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>google.project</p></td>
<td><p>The Google Project Id to use for the pipeline execution.</p></td>
</tr>
<tr class="row-odd"><td><p>google.region</p></td>
<td><p>The Google <em>region</em> where the computation is executed in Compute Engine VMs. Multiple regions can be provided separating them by a comma. Do not specify if a zone is provided. See  <a class="reference external" href="https://cloud.google.com/compute/docs/regions-zones/">available Compute Engine regions and zones</a></p></td>
</tr>
<tr class="row-even"><td><p>google.zone</p></td>
<td><p>The Google <em>zone</em> where the computation is executed in Compute Engine VMs. Multiple zones can be provided separating them by a comma. Do not specify if a region is provided. See  <a class="reference external" href="https://cloud.google.com/compute/docs/regions-zones/">available Compute Engine regions and zones</a></p></td>
</tr>
<tr class="row-odd"><td><p>google.location</p></td>
<td><p>The Google <em>location</em> where the job executions are deployed to Cloud Life Sciences API. See  <a class="reference external" href="https://cloud.google.com/life-sciences/docs/concepts/locations">available Cloud Life Sciences API locations</a> (default: the same as the region or the zone specified).</p></td>
</tr>
<tr class="row-even"><td><p>google.enableRequesterPaysBuckets</p></td>
<td><p>When <code class="docutils literal notranslate"><span class="pre">true</span></code> uses the configured Google project id as the billing project for storage access. This is required when accessing data from <em>requester pays enabled</em> buckets. See <a class="reference external" href="https://cloud.google.com/storage/docs/requester-pays">Requester Pays on Google Cloud Storage documentation</a> (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>)</p></td>
</tr>
<tr class="row-odd"><td><p>google.lifeSciences.bootDiskSize</p></td>
<td><p>Set the size of the virtual machine boot disk e.g <code class="docutils literal notranslate"><span class="pre">50.GB</span></code> (default: none).</p></td>
</tr>
<tr class="row-even"><td><p>google.lifeSciences.copyImage</p></td>
<td><p>The container image run to copy input and output files. It must include the <code class="docutils literal notranslate"><span class="pre">gsutil</span></code> tool (default: <code class="docutils literal notranslate"><span class="pre">google/cloud-sdk:alpine</span></code>).</p></td>
</tr>
<tr class="row-odd"><td><p>google.lifeSciences.cpuPlatform</p></td>
<td><p>Set the minimum CPU Platform e.g. <code class="docutils literal notranslate"><span class="pre">'Intel</span> <span class="pre">Skylake'</span></code>. See <a class="reference external" href="https://cloud.google.com/compute/docs/instances/specify-min-cpu-platform#specifications">Specifying a minimum CPU Platform for VM instances</a> (default: none).</p></td>
</tr>
<tr class="row-even"><td><p>google.lifeSciences.debug</p></td>
<td><p>When <code class="docutils literal notranslate"><span class="pre">true</span></code> copies the <code class="docutils literal notranslate"><span class="pre">/google</span></code> debug directory in that task bucket directory (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>)</p></td>
</tr>
<tr class="row-odd"><td><p>google.lifeSciences.preemptible</p></td>
<td><p>When <code class="docutils literal notranslate"><span class="pre">true</span></code> enables the usage of <em>preemptible</em> virtual machines or <code class="docutils literal notranslate"><span class="pre">false</span></code> otherwise (default: <code class="docutils literal notranslate"><span class="pre">true</span></code>)</p></td>
</tr>
<tr class="row-even"><td><p>google.lifeSciences.usePrivateAddress</p></td>
<td><p>When <code class="docutils literal notranslate"><span class="pre">true</span></code> the VM will NOT be provided with a public IP address, and only contain an internal IP. If this option is enabled, the associated job can only load docker images from Google Container Registry, and the job executable cannot use external services other than Google APIs (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>). Requires version <code class="docutils literal notranslate"><span class="pre">20.03.0-edge</span></code> or later.</p></td>
</tr>
<tr class="row-odd"><td><p>google.lifeSciences.network</p></td>
<td><p>Set network name to attach the VM’s network interface to. The value will be prefixed with global/networks/ unless it contains a /, in which case it is assumed to be a fully specified network resource URL. If unspecified, the global default network is used. Requires version <code class="docutils literal notranslate"><span class="pre">21.03.0-edge</span></code> or later.</p></td>
</tr>
<tr class="row-even"><td><p>google.lifeSciences.serviceAccountEmail</p></td>
<td><p>Define the Google service account email to use for the pipeline execution. If not specified, the default Compute Engine service account for the project will be used. Requires version <code class="docutils literal notranslate"><span class="pre">20.05.0-edge</span></code> or later.</p></td>
</tr>
<tr class="row-odd"><td><p>google.lifeSciences.subnetwork</p></td>
<td><p>Define the name of the subnetwork to attach the instance to must be specified here, when the specified network is configured for custom subnet creation. The value is prefixed with <cite>regions/subnetworks/</cite> unless it contains a <cite>/</cite>, in which case it is assumed to be a fully specified subnetwork resource URL. Requires version <code class="docutils literal notranslate"><span class="pre">21.03.0-edge</span></code> or later.</p></td>
</tr>
<tr class="row-even"><td><p>google.lifeSciences.sshDaemon</p></td>
<td><p>When <code class="docutils literal notranslate"><span class="pre">true</span></code> runs SSH daemon in the VM carrying out the job to which it’s possible to connect for debugging purposes (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>).</p></td>
</tr>
<tr class="row-odd"><td><p>google.lifeSciences.sshImage</p></td>
<td><p>The container image used to run the SSH daemon (default: <code class="docutils literal notranslate"><span class="pre">gcr.io/cloud-genomics-pipelines/tools</span></code>).</p></td>
</tr>
<tr class="row-even"><td><p>google.lifeSciences.keepAliveOnFailure</p></td>
<td><p>When <code class="docutils literal notranslate"><span class="pre">true</span></code> and a task complete with an unexpected exit status the associated computing node is kept up for 1 hour. This options implies <code class="docutils literal notranslate"><span class="pre">sshDaemon=true</span></code> (default: <code class="docutils literal notranslate"><span class="pre">false</span></code>, requires Nextflow version <code class="docutils literal notranslate"><span class="pre">21.06.0-edge</span></code> or later).</p></td>
</tr>
<tr class="row-odd"><td><p>google.storage.delayBetweenAttempts</p></td>
<td><p>Delay between download attempts from Google Storage (default <cite>10 sec</cite>, requires version <code class="docutils literal notranslate"><span class="pre">21.06.0-edge</span></code> or later).</p></td>
</tr>
<tr class="row-even"><td><p>google.storage.maxParallelTransfers</p></td>
<td><p>Max parallel upload/download transfer operations <em>per job</em> (default: <code class="docutils literal notranslate"><span class="pre">4</span></code>, requires version <code class="docutils literal notranslate"><span class="pre">21.06.0-edge</span></code> or later).</p></td>
</tr>
<tr class="row-odd"><td><p>google.storage.maxTransferAttempts</p></td>
<td><p>Max number of downloads attempts from Google Storage (default: <cite>1</cite>, requires version <code class="docutils literal notranslate"><span class="pre">21.06.0-edge</span></code> or later).</p></td>
</tr>
<tr class="row-even"><td><p>google.storage.parallelThreadCount</p></td>
<td><p>Defines the value for the option <code class="docutils literal notranslate"><span class="pre">GSUtil:parallel_thread_count</span></code> used by <code class="docutils literal notranslate"><span class="pre">gsutil</span></code> for transfer input and output data (default: <code class="docutils literal notranslate"><span class="pre">1</span></code>, requires version <code class="docutils literal notranslate"><span class="pre">21.06.0-edge</span></code> or later).</p></td>
</tr>
<tr class="row-odd"><td><p>google.storage.downloadMaxComponents</p></td>
<td><p>Defines the value for the option <code class="docutils literal notranslate"><span class="pre">GSUtil:sliced_object_download_max_components</span></code> used by <code class="docutils literal notranslate"><span class="pre">gsutil</span></code> for transfer input and output data (default: <code class="docutils literal notranslate"><span class="pre">8</span></code>, requires version <code class="docutils literal notranslate"><span class="pre">21.06.0-edge</span></code> or later).</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id8">
<h3>Process definition<a class="headerlink" href="#id8" title="Permalink to this headline"></a></h3>
<p>Processes can be defined as usual and by default the <code class="docutils literal notranslate"><span class="pre">cpus</span></code> and <code class="docutils literal notranslate"><span class="pre">memory</span></code> directives are used to instantiate a custom
machine type with the specified compute resources.  If <code class="docutils literal notranslate"><span class="pre">memory</span></code> is not specified, 1GB of memory is allocated per cpu.
A persistent disk will be created with size corresponding to the <code class="docutils literal notranslate"><span class="pre">disk</span></code> directive.  If <code class="docutils literal notranslate"><span class="pre">disk</span></code> is not specified, the
instance default is chosen to ensure reasonable I/O performance.</p>
<p>The process <code class="docutils literal notranslate"><span class="pre">machineType</span></code> directive may optionally be used to specify a predefined Google Compute Platform <a class="reference external" href="https://cloud.google.com/compute/docs/machine-types">machine type</a>
If specified, this value overrides the <code class="docutils literal notranslate"><span class="pre">cpus</span></code> and <code class="docutils literal notranslate"><span class="pre">memory</span></code> directives.
If the <code class="docutils literal notranslate"><span class="pre">cpus</span></code> and <code class="docutils literal notranslate"><span class="pre">memory</span></code> directives are used, the values must comply with the allowed custom machine type <a class="reference external" href="https://cloud.google.com/compute/docs/instances/creating-instance-with-custom-machine-type#specifications">specifications</a> .  Extended memory is not directly supported, however high memory or cpu predefined
instances may be utilized using the <code class="docutils literal notranslate"><span class="pre">machineType</span></code> directive</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">process</span> <span class="n">custom_resources_task</span> <span class="p">{</span>
    <span class="n">cpus</span> <span class="mi">8</span>
    <span class="n">memory</span> <span class="s1">&#39;40 GB&#39;</span>
    <span class="n">disk</span> <span class="s1">&#39;200 GB&#39;</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    &lt;Your script here&gt;</span>
<span class="sd">    &quot;&quot;&quot;</span>
<span class="p">}</span>

<span class="n">process</span> <span class="n">predefined_resources_task</span> <span class="p">{</span>
    <span class="n">machineType</span> <span class="s1">&#39;n1-highmem-8&#39;</span>

    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    &lt;Your script here&gt;</span>
<span class="sd">    &quot;&quot;&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This feature requires Nextflow 19.07.0 or later.</p>
</div>
</section>
<section id="id11">
<h3>Pipeline execution<a class="headerlink" href="#id11" title="Permalink to this headline"></a></h3>
<p>The pipeline can be launched either in a local computer or a cloud instance. Pipeline input data can be stored either
locally or in a Google Storage bucket.</p>
<p>The pipeline execution must specify a Google Storage bucket where the workflow’s intermediate results are stored using
the <code class="docutils literal notranslate"><span class="pre">-work-dir</span></code> command line options. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">nextflow</span> <span class="n">run</span> <span class="o">&lt;</span><span class="n">script</span> <span class="ow">or</span> <span class="n">project</span> <span class="n">name</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">work</span><span class="o">-</span><span class="nb">dir</span> <span class="n">gs</span><span class="p">:</span><span class="o">//</span><span class="n">my</span><span class="o">-</span><span class="n">bucket</span><span class="o">/</span><span class="n">some</span><span class="o">/</span><span class="n">path</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Any input data <strong>not</strong> stored in a Google Storage bucket will automatically be transferred to the
pipeline work bucket. Use this feature with caution being careful to avoid unnecessary data transfers.</p>
</div>
</section>
<section id="preemptible-instances">
<h3>Preemptible instances<a class="headerlink" href="#preemptible-instances" title="Permalink to this headline"></a></h3>
<p>Preemptible instances are supported adding the following setting in the Nextflow config file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">google</span> <span class="p">{</span>
    <span class="n">lifeSciences</span><span class="o">.</span><span class="n">preemptible</span> <span class="o">=</span> <span class="n">true</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Since this type of virtual machines can be retired by the provider before the job completion, it is advisable
to add the following retry strategy to your config file to instruct Nextflow to automatically re-execute a job
if the virtual machine was terminated preemptively:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>process {
  errorStrategy = { task.exitStatus==14 ? &#39;retry&#39; : &#39;terminate&#39; }
  maxRetries = 5
}
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Preemptible instances have a <a class="reference external" href="https://cloud.google.com/compute/docs/instances/preemptible">runtime limit</a> of 24 hours.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>For an exhaustive list of all possible error codes, please refer to the official Google LifeSciences <a class="reference external" href="https://cloud.google.com/life-sciences/docs/troubleshooting#error_codes">documentation</a>.</p>
</div>
</section>
<section id="hybrid-execution">
<h3>Hybrid execution<a class="headerlink" href="#hybrid-execution" title="Permalink to this headline"></a></h3>
<p>Nextflow allows the use of multiple executors in the same workflow application. This feature enables the deployment
of hybrid workloads in which some jobs are executed in the local computer or local computing cluster and
some other jobs are offloaded to Google Pipelines service.</p>
<p>To enable this feature use one or more <a class="reference internal" href="config.html#config-process-selectors"><span class="std std-ref">Process selectors</span></a> in your Nextflow configuration file to apply
the Google Pipelines <em>executor</em> only to a subset of processes in your workflow.
For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">process</span> <span class="p">{</span>
    <span class="n">withLabel</span><span class="p">:</span> <span class="n">bigTask</span> <span class="p">{</span>
        <span class="n">executor</span> <span class="o">=</span> <span class="s1">&#39;google-lifesciences&#39;</span>
        <span class="n">container</span> <span class="o">=</span> <span class="s1">&#39;my/image:tag&#39;</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="n">google</span> <span class="p">{</span>
    <span class="n">project</span> <span class="o">=</span> <span class="s1">&#39;your-project-id&#39;</span>
    <span class="n">zone</span> <span class="o">=</span> <span class="s1">&#39;europe-west1-b&#39;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Then deploy the workflow execution using the <code class="docutils literal notranslate"><span class="pre">-bucket-dir</span></code> to specify a Google Storage path
for the jobs computed by the Google Pipeline service and, optionally, the <code class="docutils literal notranslate"><span class="pre">-work-dir</span></code> to
specify the local storage for the jobs computed locally:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">nextflow</span> <span class="n">run</span> <span class="o">&lt;</span><span class="n">script</span> <span class="ow">or</span> <span class="n">project</span> <span class="n">name</span><span class="o">&gt;</span> <span class="o">-</span><span class="n">bucket</span><span class="o">-</span><span class="nb">dir</span> <span class="n">gs</span><span class="p">:</span><span class="o">//</span><span class="n">my</span><span class="o">-</span><span class="n">bucket</span><span class="o">/</span><span class="n">some</span><span class="o">/</span><span class="n">path</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The Google Storage path needs to contain at least sub-directory. Don’t use only the
bucket name e.g. <code class="docutils literal notranslate"><span class="pre">gs://my-bucket</span></code>.</p>
</div>
</section>
<section id="quotas">
<h3>Quotas<a class="headerlink" href="#quotas" title="Permalink to this headline"></a></h3>
<p>Compute resources in Google Cloud are subject to <a class="reference external" href="https://cloud.google.com/compute/quotas">resource quotas</a> which may affect your ability to run pipelines at scale. You can request quota increases, and your quotas may automatically increase over time as you use the platform. In particular, GPU quotas are initially set to 0, so you must explicitly request a quota increase in order to use GPUs. Initially you can request an increase to 1 GPU at a time, and after one billing cycle you may be able to increase it further.</p>
</section>
<section id="limitations">
<h3>Limitations<a class="headerlink" href="#limitations" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Currently it’s not possible to specify a disk type different from the default one assigned
by the service depending on the chosen instance type.</p></li>
</ul>
</section>
<section id="troubleshooting">
<h3>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Make sure to have enabled Compute Engine API, Life Sciences API and Cloud Storage Service in the
<a class="reference external" href="https://console.cloud.google.com/apis/dashboard">APIs &amp; Services Dashboard</a> page.</p></li>
<li><p>Make sure to have enough compute resources to run your pipeline in your project
<a class="reference external" href="https://console.cloud.google.com/iam-admin/quotas">Quotas</a> (i.e. Compute Engine CPUs,
Compute Engine Persistent Disk, Compute Engine In-use IP addresses, etc).</p></li>
<li><p>Make sure your security credentials allows you to access any Google Storage bucket
where input data and temporary files are stored.</p></li>
<li><p>Check the directory <code class="docutils literal notranslate"><span class="pre">google/</span></code> created in the task work directory (in the bucket storage) created
when on job failure and containing useful information of the job execution. The creation
can be enabled as default setting the option <code class="docutils literal notranslate"><span class="pre">google.lifeSciences.debug</span> <span class="pre">=</span> <span class="pre">true</span></code> in the
Nextflow config file</p></li>
<li><p>Enable the optional SSH daemon in the job VM using the option <code class="docutils literal notranslate"><span class="pre">google.lifeSciences.sshDaemon</span> <span class="pre">=</span> <span class="pre">true</span></code></p></li>
<li><p>Make sure you are choosing a <cite>location</cite> where  <a class="reference external" href="https://cloud.google.com/life-sciences/docs/concepts/locations">Cloud Life Sciences API is available</a>,
and a <cite>region</cite> or <cite>zone</cite> where <a class="reference external" href="https://cloud.google.com/compute/docs/regions-zones/">Compute Engine is available</a>.</p></li>
</ul>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="azure.html" class="btn btn-neutral float-left" title="Azure Cloud" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="ignite.html" class="btn btn-neutral float-right" title="Apache Ignite" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Seqera Labs, S.L.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-244N3GEN75"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-244N3GEN75', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>